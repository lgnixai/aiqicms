(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[5440],{71384:function(_,K,n){"use strict";var p=n(18201),c=n(66342),C=n(75271),W=n(31945),k=n(52676),v=["fieldProps","min","proFieldProps","max"],H=function(j,F){var I=j.fieldProps,a=j.min,D=j.proFieldProps,w=j.max,R=(0,c.Z)(j,v);return(0,k.jsx)(W.Z,(0,p.Z)({valueType:"digit",fieldProps:(0,p.Z)({min:a,max:w},I),ref:F,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:D},R))},P=C.forwardRef(H);K.Z=P},85606:function(_,K,n){"use strict";var p=n(48305),c=n.n(p),C=n(75304),W=n(22683),k=n(96570),v=n(75271),H=n(52676),P=function(j){var F=(0,v.useState)(void 0),I=c()(F,2),a=I[0],D=I[1],w=(0,v.useState)(""),R=c()(w,2),Y=R[0],V=R[1],ee=function(){(0,C.roP)({type:"multi"}).then(function(t){var i=(t.data||[]).map(function(b){return{key:b.id,tab:b.name,is_main:b.is_main}});D(i);var s=(0,W.KJ)("sub-site-id");!s&&i.length>0&&(s=i[0].key+"");var r=i.find(function(b){return b.key===Number(s)}),l=!1;r&&(l=!0,r.is_main&&(l=!1)),(0,W.Xq)("is-sub-site",l),V(s)})};(0,v.useEffect)(function(){ee()},[]);var le=function(t){var i;V(t),(0,W.Xq)("sub-site-id",t);var s=a.find(function(l){return l.key===Number(t)}),r=!0;s.is_main&&(r=!1),(0,W.Xq)("is-sub-site",r),(i=j.onTabChange)===null||i===void 0||i.call(j,t,r)};return(0,H.jsx)(k._z,{tabList:a,tabActiveKey:Y,onTabChange:le,title:j.title,children:j.children})};K.Z=P},19830:function(_,K,n){"use strict";n.d(K,{Z:function(){return F}});var p=n(82092),c=n.n(p),C=n(48305),W=n.n(C),k=n(75271),v=n(82187),H=n.n(v),P=n(27806),Z=n(52676),j=function(a){var D=(0,k.useState)(!1),w=W()(D,2),R=w[0],Y=w[1];(0,k.useEffect)(function(){Y(a.open||!1)},[]);var V=function(){Y(!R)},ee=H()(c()(c()({},"collaspe-item",!0),"collaspe-item-active",R),a.className);return(0,Z.jsxs)("div",{className:ee,style:a.style,children:[(0,Z.jsxs)("div",{className:"collaspe-header",onClick:V,children:[a.showArrow&&(0,Z.jsx)(P.Z,{className:"collaspe-icon"}),(0,Z.jsx)("div",{className:"collaspe-header-text",children:a.header}),a.extra&&(0,Z.jsx)("div",{className:"collaspe-extra",children:a.extra})]}),(0,Z.jsx)("div",{className:"collaspe-content",children:a.children})]})},F=j},97937:function(_,K,n){"use strict";n.r(K),n.d(K,{default:function(){return de}});var p=n(90228),c=n.n(p),C=n(335),W=n.n(C),k=n(87999),v=n.n(k),H=n(48305),P=n.n(H),Z=n(85606),j=n(3808),F=n(16621),I=n(18640),a=n(32064),D=n(54203),w=n(34206),R=n(53745),Y=n(91827),V=n(47634),ee=n(16483),le=n.n(ee),L=n(75271),t=n(75304),i=n(64918),s=n(35937),r=n(96640),l=n(18874),b=n(21261),X=n(12964),je=n(86254),ae=n(58226),ne=n.n(ae),e=n(52676),g=function(M){var re=(0,L.useState)(!1),h=P()(re,2),B=h[0],G=h[1],$=(0,L.useState)(!1),se=P()($,2),ce=se[0],J=se[1],Q=(0,L.useState)("1"),ve=P()(Q,2),z=ve[0],ye=ve[1],Ce=(0,L.useState)({}),ke=P()(Ce,2),O=ke[0],E=ke[1],m=(0,a.useIntl)(),he=function(){var T=v()(c()().mark(function N(){var x;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,t.HSt)();case 2:x=o.sent,E(x.data||{});case 4:case"end":return o.stop()}},N)}));return function(){return T.apply(this,arguments)}}();(0,L.useEffect)(function(){he();var T=a.history.location.hash||"";T&&(T=T.replaceAll("#",""),ye(T))},[]);var xe=function(){var T=v()(c()().mark(function N(x){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(x.link_token!==""){o.next=3;break}return w.ZP.error(m.formatMessage({id:"plugin.importapi.token.required"})),o.abrupt("return");case 3:D.Z.confirm({title:m.formatMessage({id:"plugin.importapi.token.confirm"}),content:m.formatMessage({id:"plugin.importapi.token.confirm.content"}),onOk:function(){var U=v()(c()().mark(function q(){var Me;return c()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,(0,t.xa4)(x);case 2:Me=fe.sent,w.ZP.info(Me.msg),he(),J(!1);case 6:case"end":return fe.stop()}},q)}));function ie(){return U.apply(this,arguments)}return ie}()});case 4:case"end":return o.stop()}},N)}));return function(x){return T.apply(this,arguments)}}(),me=function(){w.ZP.success(m.formatMessage({id:"plugin.importapi.token.copy.success"}))};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{onClick:function(){G(!B)},children:M.children}),(0,e.jsxs)(D.Z,{width:1e3,zIndex:10,open:B,onCancel:function(){G(!1)},footer:null,title:m.formatMessage({id:"plugin.link.api.title"}),children:[(0,e.jsx)(l.Z,{message:(0,e.jsx)("div",{children:(0,e.jsx)("div",{children:(0,e.jsxs)(R.Z,{children:[(0,e.jsx)("span",{children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.token.name"})}),(0,e.jsx)(b.Z,{children:(0,e.jsx)(ne(),{text:O.link_token,onCopy:me,children:(0,e.jsx)(X.Z,{title:m.formatMessage({id:"plugin.importapi.token.copy"}),children:O.link_token})})}),(0,e.jsx)(V.ZP,{size:"small",onClick:function(){J(!0)},children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.token.update"})})]})})})}),(0,e.jsx)("div",{className:"mt-normal",children:(0,e.jsxs)(i.Z,{tabs:{tabPosition:"left",activeKey:z,onChange:function(N){ye(N)}},children:[(0,e.jsx)(i.Z.TabPane,{tab:m.formatMessage({id:"plugin.link.api.list"}),children:(0,e.jsxs)("div",{className:"import-fields",children:[(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.api-url"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(ne(),{text:O.base_url+"/api/friendlink/list?token="+O.link_token,onCopy:me,children:(0,e.jsxs)(X.Z,{title:m.formatMessage({id:"plugin.importapi.token.copy"}),children:[O.base_url,"/api/friendlink/list?token=",O.link_token]})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.method"})}),(0,e.jsx)("div",{className:"value",children:"POST / GET"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.request-type"})}),(0,e.jsx)("div",{className:"value",children:"form-data / query params"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.category-api.fields"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.category-api.fields.empty"})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-type"})}),(0,e.jsx)("div",{className:"value",children:"JSON"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.success"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": 200,
    "msg": "",
    "data": {
      [
        {
          "id": 1,
          "link": "https://www.anqicms.com/",
          "title": "AnqiCMS",
        },
        {
          "id": 2,
          "link": "https://www.baidu.com/",
          "title": "\u767E\u5EA6",
        }
      ]
    }
}`})})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.failure"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": -1,
    "msg": "Token\u9519\u8BEF"
}`})})})})]})]})},"1"),(0,e.jsx)(i.Z.TabPane,{tab:m.formatMessage({id:"plugin.link.api.verify"}),children:(0,e.jsxs)("div",{className:"import-fields",children:[(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.api-url"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(ne(),{text:O.base_url+"/api/friendlink/check?token="+O.link_token,onCopy:me,children:(0,e.jsxs)(X.Z,{title:m.formatMessage({id:"plugin.importapi.token.copy"}),children:[O.base_url,"/api/friendlink/check?token=",O.link_token]})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.method"})}),(0,e.jsx)("div",{className:"value",children:"POST / GET"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.request-type"})}),(0,e.jsx)("div",{className:"value",children:"form-data / query params"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.category-api.fields"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.category-api.fields.empty"})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-type"})}),(0,e.jsx)("div",{className:"value",children:"JSON"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.success"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": 200,
    "msg": ""
}`})})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.failure"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": -1,
    "msg": "Token\u9519\u8BEF",
}`})})})})]})]})},"2"),(0,e.jsx)(i.Z.TabPane,{tab:m.formatMessage({id:"plugin.link.api.add"}),children:(0,e.jsxs)("div",{className:"import-fields",children:[(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.api-url"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(ne(),{text:O.base_url+"/api/friendlink/create?token="+O.link_token,onCopy:me,children:(0,e.jsxs)(X.Z,{title:m.formatMessage({id:"plugin.importapi.token.copy"}),children:[O.base_url,"/api/friendlink/create?token=",O.link_token]})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.method"})}),(0,e.jsx)("div",{className:"value",children:"POST"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.request-type"})}),(0,e.jsx)("div",{className:"value",children:"form-data"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.post-fields"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(je.Z,{size:"small",pagination:!1,columns:[{title:m.formatMessage({id:"content.module.field.name"}),dataIndex:"title",width:150},{title:m.formatMessage({id:"content.module.field.isrequired"}),dataIndex:"required",width:100,render:function(N){return(0,e.jsx)("span",{children:N?m.formatMessage({id:"content.module.field.isrequired.yes"}):m.formatMessage({id:"content.module.field.isrequired.no"})})}},{title:m.formatMessage({id:"plugin.importapi.field.remark"}),dataIndex:"remark"}],dataSource:[{title:"title",required:!0,remark:m.formatMessage({id:"plugin.link.field.other-title"})},{title:"link",required:!0,remark:m.formatMessage({id:"plugin.link.field.other-link"})},{title:"nofollow",required:!1,remark:m.formatMessage({id:"plugin.link.field.nofollow"})},{title:"back_link",required:!1,remark:m.formatMessage({id:"plugin.link.field.back-link"})},{title:"my_title",required:!1,remark:m.formatMessage({id:"plugin.link.field.self-title"})},{title:"my_link",required:!1,remark:m.formatMessage({id:"plugin.link.field.self-link"})},{title:"contact",required:!1,remark:m.formatMessage({id:"plugin.link.field.contact"})},{title:"remark",required:!1,remark:m.formatMessage({id:"plugin.link.field.remark"})}]},"title")})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-type"})}),(0,e.jsx)("div",{className:"value",children:"JSON"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.success"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": 200,
    "msg": "\u94FE\u63A5\u5DF2\u4FDD\u5B58",
}`})})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.failure"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": -1,
    "msg": "Token\u9519\u8BEF",
}`})})})})]})]})},"3"),(0,e.jsx)(i.Z.TabPane,{tab:m.formatMessage({id:"plugin.link.api.delete"}),children:(0,e.jsxs)("div",{className:"import-fields",children:[(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.api-url"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(ne(),{text:O.base_url+"/api/friendlink/delete?token="+O.link_token,onCopy:me,children:(0,e.jsxs)(X.Z,{title:m.formatMessage({id:"plugin.importapi.token.copy"}),children:[O.base_url,"/api/friendlink/delete?token=",O.link_token]})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.method"})}),(0,e.jsx)("div",{className:"value",children:"POST"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.request-type"})}),(0,e.jsx)("div",{className:"value",children:"form-data"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.post-fields"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(je.Z,{size:"small",pagination:!1,columns:[{title:m.formatMessage({id:"content.module.field.name"}),dataIndex:"title",width:150},{title:m.formatMessage({id:"content.module.field.isrequired"}),dataIndex:"required",width:100,render:function(N){return(0,e.jsx)("span",{children:N?m.formatMessage({id:"content.module.field.isrequired.yes"}):m.formatMessage({id:"content.module.field.isrequired.no"})})}},{title:m.formatMessage({id:"plugin.importapi.field.remark"}),dataIndex:"remark"}],dataSource:[{title:"link",required:!0,remark:m.formatMessage({id:"plugin.link.field.other-link"})}]},"title")})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-type"})}),(0,e.jsx)("div",{className:"value",children:"JSON"})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.success"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": 200,
    "msg": "\u94FE\u63A5\u5DF2\u5220\u9664"
}`})})})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"name",children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.importapi.return-example.failure"})}),(0,e.jsx)("div",{className:"value",children:(0,e.jsx)(l.Z,{message:(0,e.jsx)("pre",{children:(0,e.jsx)("code",{children:`{
    "code": -1, 
    "msg": "Token\u9519\u8BEF",
}`})})})})]})]})},"4")]})})]}),(0,e.jsx)(s.Y,{width:600,modalProps:{zIndex:100},title:"plugin.importapi.token.reset",open:ce,layout:"horizontal",onOpenChange:function(N){J(N)},onFinish:xe,children:(0,e.jsx)(r.Z,{name:"link_token",label:"plugin.importapi.token.new",placeholder:"plugin.importapi.token.new.placeholder",extra:"plugin.importapi.token.new.description"})})]})},y=g,u=n(19830),f=n(76334),te=n(71384),A=n(66857),ue=function(M){var re,h=(0,a.useIntl)(),B=function(){var G=v()(c()().mark(function $(se){var ce;return c()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return ce=Object.assign(M.editingLink,se),Q.next=3,(0,j.wv)(ce);case 3:M.onSubmit();case 4:case"end":return Q.stop()}},$)}));return function(se){return G.apply(this,arguments)}}();return(0,e.jsxs)(s.Y,{width:800,title:(re=M.editingLink)!==null&&re!==void 0&&re.id?h.formatMessage({id:"plugin.link.edit"}):h.formatMessage({id:"plugin.link.add"}),initialValues:M.editingLink,open:M.open,onOpenChange:function($){$||M.onCancel($)},onFinish:function(){var G=v()(c()().mark(function $(se){return c()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:B(se);case 1:case"end":return J.stop()}},$)}));return function($){return G.apply(this,arguments)}}(),children:[(0,e.jsx)(r.Z,{name:"title",label:h.formatMessage({id:"plugin.link.field.other-title"})}),(0,e.jsx)(r.Z,{name:"link",label:h.formatMessage({id:"plugin.link.field.other-link"}),extra:h.formatMessage({id:"plugin.link.field.other-link.description"})}),(0,e.jsx)(f.Z.Group,{name:"nofollow",label:"NOFOLLOW",options:[{value:0,label:h.formatMessage({id:"plugin.link.nofollow.no"})},{value:1,label:h.formatMessage({id:"plugin.link.nofollow.yes"})}],extra:h.formatMessage({id:"plugin.link.nofollow.description"})}),(0,e.jsx)(te.Z,{name:"sort",label:h.formatMessage({id:"content.category.sort"}),extra:h.formatMessage({id:"content.category.sort.description"})}),(0,e.jsxs)(u.Z,{header:h.formatMessage({id:"plugin.link.more"}),showArrow:!0,children:[(0,e.jsx)(r.Z,{name:"back_link",label:h.formatMessage({id:"plugin.link.field.back-link"}),extra:h.formatMessage({id:"plugin.link.field.back-link.description"})}),(0,e.jsx)(r.Z,{name:"my_title",label:h.formatMessage({id:"plugin.link.field.self-title"}),extra:h.formatMessage({id:"plugin.link.field.self-title.description"})}),(0,e.jsx)(r.Z,{name:"my_link",label:h.formatMessage({id:"plugin.link.field.self-link"}),extra:h.formatMessage({id:"plugin.link.field.self-link.description"})}),(0,e.jsx)(r.Z,{name:"contact",label:h.formatMessage({id:"plugin.link.field.contact"}),extra:h.formatMessage({id:"plugin.link.field.contact.description"})}),(0,e.jsx)(A.Z,{name:"remark",label:h.formatMessage({id:"plugin.link.field.remark"})})]},"1")]})},oe=ue,ge=function(){var M=(0,L.useRef)(),re=(0,L.useState)([]),h=P()(re,2),B=h[1],G=(0,L.useState)({}),$=P()(G,2),se=$[0],ce=$[1],J=(0,L.useState)(!1),Q=P()(J,2),ve=Q[0],z=Q[1],ye=(0,L.useState)(""),Ce=P()(ye,2),ke=Ce[0],O=Ce[1],E=(0,a.useIntl)(),m=function(d){O(d)},he=function(){var x=v()(c()().mark(function d(o){return c()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:D.Z.confirm({title:E.formatMessage({id:"plugin.link.delete.confirm"}),onOk:function(){var q=v()(c()().mark(function Se(){var fe,Oe,Ne,be,Pe,Te;return c()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(fe=w.ZP.loading(E.formatMessage({id:"content.delete.deletting"}),0),o){S.next=3;break}return S.abrupt("return",!0);case 3:S.prev=3,be=W()(o),S.prev=5,be.s();case 7:if((Pe=be.n()).done){S.next=13;break}return Te=Pe.value,S.next=11,(0,j.sP)({id:Te});case 11:S.next=7;break;case 13:S.next=18;break;case 15:S.prev=15,S.t0=S.catch(5),be.e(S.t0);case 18:return S.prev=18,be.f(),S.finish(18);case 21:return fe(),w.ZP.success(E.formatMessage({id:"content.delete.success"})),B([]),(Oe=M.current)===null||Oe===void 0||(Ne=Oe.reloadAndRest)===null||Ne===void 0||Ne.call(Oe),S.abrupt("return",!0);case 28:return S.prev=28,S.t1=S.catch(3),fe(),w.ZP.error(E.formatMessage({id:"content.delete.failure"})),S.abrupt("return",!0);case 33:case"end":return S.stop()}},Se,null,[[3,28],[5,15,18,21]])}));function Me(){return q.apply(this,arguments)}return Me}()});case 1:case"end":return ie.stop()}},d)}));return function(o){return x.apply(this,arguments)}}(),xe=function(){var x=v()(c()().mark(function d(o){return c()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:ce(o),z(!0);case 2:case"end":return ie.stop()}},d)}));return function(o){return x.apply(this,arguments)}}(),me=function(){var x=v()(c()().mark(function d(o){var U;return c()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,j.CD)(o);case 2:U=q.sent,w.ZP.info(U.msg),M.current&&M.current.reload();case 5:case"end":return q.stop()}},d)}));return function(o){return x.apply(this,arguments)}}(),T=function(d){return d===0?E.formatMessage({id:"plugin.link.status.wait"}):d===1?E.formatMessage({id:"plugin.link.status.ok"}):d===2?"NOFOLLOW":d===3?E.formatMessage({id:"plugin.link.status.wrong-keyword"}):d===4?E.formatMessage({id:"plugin.link.status.no-back-url"}):d},N=[{title:E.formatMessage({id:"ID"}),dataIndex:"sort"},{title:E.formatMessage({id:"plugin.link.other-title-link"}),dataIndex:"title",render:function(d,o){return(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:o.title}),(0,e.jsx)("span",{children:" / "}),(0,e.jsx)("a",{href:o.link,target:"_blank",rel:"noreferrer",children:o.link})]})}},{title:E.formatMessage({id:"plugin.link.other-contact-remark"}),dataIndex:"contact",render:function(d,o){return(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:o.contact}),(0,e.jsx)("span",{children:" / "}),(0,e.jsx)("span",{children:o.remark})]})}},{title:E.formatMessage({id:"plugin.link.status-check-time"}),dataIndex:"status",render:function(d,o){return(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:T(d)}),(0,e.jsx)("span",{children:" / "}),(0,e.jsx)("span",{children:le()(o.checked_time*1e3).format("YYYY-MM-DD HH:mm")})]})}},{title:E.formatMessage({id:"plugin.link.create-time"}),dataIndex:"created_time",render:function(d,o){return le()(o.created_time*1e3).format("YYYY-MM-DD HH:mm")}},{title:E.formatMessage({id:"setting.action"}),dataIndex:"option",valueType:"option",render:function(d,o){return(0,e.jsxs)(R.Z,{size:20,children:[(0,e.jsx)("a",{onClick:function(){me(o)},children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.link.check"})},"check"),(0,e.jsx)("a",{onClick:function(){xe(o)},children:(0,e.jsx)(a.FormattedMessage,{id:"setting.action.edit"})},"edit"),(0,e.jsx)("a",{className:"text-red",onClick:v()(c()().mark(function U(){return c()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:he([o.id]);case 1:case"end":return q.stop()}},U)})),children:(0,e.jsx)(a.FormattedMessage,{id:"setting.system.delete"})},"delete")]})}}];return(0,e.jsx)(Z.Z,{onTabChange:function(d){return m(d)},children:(0,e.jsxs)(Y.Z,{children:[(0,e.jsx)(I.Z,{headerTitle:E.formatMessage({id:"menu.plugin.friendlink"}),actionRef:M,rowKey:"id",search:!1,toolBarRender:function(){return[(0,e.jsx)(y,{children:(0,e.jsx)(V.ZP,{children:(0,e.jsx)(a.FormattedMessage,{id:"plugin.link.api.title"})})},"api"),(0,e.jsxs)(V.ZP,{type:"primary",onClick:function(){xe({})},children:[(0,e.jsx)(F.Z,{})," ",(0,e.jsx)(a.FormattedMessage,{id:"plugin.link.add"})]},"add")]},tableAlertOptionRender:function(d){var o=d.selectedRowKeys,U=d.onCleanSelected;return(0,e.jsxs)(R.Z,{children:[(0,e.jsx)(V.ZP,{size:"small",onClick:function(){he(o)},children:(0,e.jsx)(a.FormattedMessage,{id:"content.option.batch-delete"})}),(0,e.jsx)(V.ZP,{type:"link",size:"small",onClick:U,children:(0,e.jsx)(a.FormattedMessage,{id:"content.option.cancel-select"})})]})},request:function(d){return(0,j.L8)(d)},columnsState:{persistenceKey:"friendlink-table",persistenceType:"localStorage"},columns:N,rowSelection:{onChange:function(d){B(d)}},pagination:{showSizeChanger:!0}}),ve&&(0,e.jsx)(oe,{open:ve,editingLink:se,onCancel:function(){z(!1)},onSubmit:v()(c()().mark(function x(){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:z(!1),M.current&&M.current.reload();case 2:case"end":return o.stop()}},x)}))})]},ke)})},de=ge},21261:function(_,K,n){"use strict";n.d(K,{Z:function(){return ne}});var p=n(75271),c=n(82187),C=n.n(c),W=n(18051),k=n(4685),v=n(76708),H=n(44675),P=n(23351),Z=n(24434),j=n(15236),F=n(84432),I=n(58363),a=n(83509),D=n(71130);const w=e=>{const{paddingXXS:g,lineWidth:y,tagPaddingHorizontal:u,componentCls:f,calc:te}=e,A=te(u).sub(y).equal(),ue=te(g).sub(y).equal();return{[f]:Object.assign(Object.assign({},(0,I.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:A,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,j.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${f}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${f}-close-icon`]:{marginInlineStart:ue,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${f}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${f}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:A}}),[`${f}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},R=e=>{const{lineWidth:g,fontSizeIcon:y,calc:u}=e,f=e.fontSizeSM;return(0,a.IX)(e,{tagFontSize:f,tagLineHeight:(0,j.bf)(u(e.lineHeightSM).mul(f).equal()),tagIconSize:u(y).sub(u(g).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},Y=e=>({defaultBg:new F.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var V=(0,D.I$)("Tag",e=>{const g=R(e);return w(g)},Y),ee=function(e,g){var y={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&g.indexOf(u)<0&&(y[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(e);f<u.length;f++)g.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(e,u[f])&&(y[u[f]]=e[u[f]]);return y},L=p.forwardRef((e,g)=>{const{prefixCls:y,style:u,className:f,checked:te,onChange:A,onClick:ue}=e,oe=ee(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:ge,tag:de}=p.useContext(Z.E_),pe=$=>{A==null||A(!te),ue==null||ue($)},M=ge("tag",y),[re,h,B]=V(M),G=C()(M,`${M}-checkable`,{[`${M}-checkable-checked`]:te},de==null?void 0:de.className,f,h,B);return re(p.createElement("span",Object.assign({},oe,{ref:g,style:Object.assign(Object.assign({},u),de==null?void 0:de.style),className:G,onClick:pe})))}),t=n(99840);const i=e=>(0,t.Z)(e,(g,y)=>{let{textColor:u,lightBorderColor:f,lightColor:te,darkColor:A}=y;return{[`${e.componentCls}${e.componentCls}-${g}`]:{color:u,background:te,borderColor:f,"&-inverse":{color:e.colorTextLightSolid,background:A,borderColor:A},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var s=(0,D.bk)(["Tag","preset"],e=>{const g=R(e);return i(g)},Y);function r(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const l=(e,g,y)=>{const u=r(y);return{[`${e.componentCls}${e.componentCls}-${g}`]:{color:e[`color${y}`],background:e[`color${u}Bg`],borderColor:e[`color${u}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var b=(0,D.bk)(["Tag","status"],e=>{const g=R(e);return[l(g,"success","Success"),l(g,"processing","Info"),l(g,"error","Error"),l(g,"warning","Warning")]},Y),X=function(e,g){var y={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&g.indexOf(u)<0&&(y[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(e);f<u.length;f++)g.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(e,u[f])&&(y[u[f]]=e[u[f]]);return y};const ae=p.forwardRef((e,g)=>{const{prefixCls:y,className:u,rootClassName:f,style:te,children:A,icon:ue,color:oe,onClose:ge,bordered:de=!0,visible:pe}=e,M=X(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:re,direction:h,tag:B}=p.useContext(Z.E_),[G,$]=p.useState(!0),se=(0,W.Z)(M,["closeIcon","closable"]);p.useEffect(()=>{pe!==void 0&&$(pe)},[pe]);const ce=(0,k.o2)(oe),J=(0,k.yT)(oe),Q=ce||J,ve=Object.assign(Object.assign({backgroundColor:oe&&!Q?oe:void 0},B==null?void 0:B.style),te),z=re("tag",y),[ye,Ce,ke]=V(z),O=C()(z,B==null?void 0:B.className,{[`${z}-${oe}`]:Q,[`${z}-has-color`]:oe&&!Q,[`${z}-hidden`]:!G,[`${z}-rtl`]:h==="rtl",[`${z}-borderless`]:!de},u,f,Ce,ke),E=N=>{N.stopPropagation(),ge==null||ge(N),!N.defaultPrevented&&$(!1)},[,m]=(0,v.Z)((0,v.w)(e),(0,v.w)(B),{closable:!1,closeIconRender:N=>{const x=p.createElement("span",{className:`${z}-close-icon`,onClick:E},N);return(0,H.wm)(N,x,d=>({onClick:o=>{var U;(U=d==null?void 0:d.onClick)===null||U===void 0||U.call(d,o),E(o)},className:C()(d==null?void 0:d.className,`${z}-close-icon`)}))}}),he=typeof M.onClick=="function"||A&&A.type==="a",xe=ue||null,me=xe?p.createElement(p.Fragment,null,xe,A&&p.createElement("span",null,A)):A,T=p.createElement("span",Object.assign({},se,{ref:g,className:O,style:ve}),me,m,ce&&p.createElement(s,{key:"preset",prefixCls:z}),J&&p.createElement(b,{key:"status",prefixCls:z}));return ye(he?p.createElement(P.Z,{component:"Tag"},T):T)});ae.CheckableTag=L;var ne=ae},17243:function(_,K,n){"use strict";function p(t){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},p(t)}Object.defineProperty(K,"__esModule",{value:!0}),K.CopyToClipboard=void 0;var c=k(n(75271)),C=k(n(874)),W=["text","onCopy","options","children"];function k(t){return t&&t.__esModule?t:{default:t}}function v(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);i&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,r)}return s}function H(t){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?v(Object(s),!0).forEach(function(r){le(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function P(t,i){if(t==null)return{};var s=Z(t,i),r,l;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);for(l=0;l<b.length;l++)r=b[l],!(i.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Z(t,i){if(t==null)return{};var s={},r=Object.keys(t),l,b;for(b=0;b<r.length;b++)l=r[b],!(i.indexOf(l)>=0)&&(s[l]=t[l]);return s}function j(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function F(t,i){for(var s=0;s<i.length;s++){var r=i[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,i,s){return i&&F(t.prototype,i),s&&F(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&D(t,i)}function D(t,i){return D=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},D(t,i)}function w(t){var i=V();return function(){var r=ee(t),l;if(i){var b=ee(this).constructor;l=Reflect.construct(r,arguments,b)}else l=r.apply(this,arguments);return R(this,l)}}function R(t,i){if(i&&(p(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(t)}function Y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},ee(t)}function le(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}var L=function(t){a(s,t);var i=w(s);function s(){var r;j(this,s);for(var l=arguments.length,b=new Array(l),X=0;X<l;X++)b[X]=arguments[X];return r=i.call.apply(i,[this].concat(b)),le(Y(r),"onClick",function(je){var ae=r.props,ne=ae.text,e=ae.onCopy,g=ae.children,y=ae.options,u=c.default.Children.only(g),f=(0,C.default)(ne,y);e&&e(ne,f),u&&u.props&&typeof u.props.onClick=="function"&&u.props.onClick(je)}),r}return I(s,[{key:"render",value:function(){var l=this.props,b=l.text,X=l.onCopy,je=l.options,ae=l.children,ne=P(l,W),e=c.default.Children.only(ae);return c.default.cloneElement(e,H(H({},ne),{},{onClick:this.onClick}))}}]),s}(c.default.PureComponent);K.CopyToClipboard=L,le(L,"defaultProps",{onCopy:void 0,options:void 0})},58226:function(_,K,n){"use strict";var p=n(17243),c=p.CopyToClipboard;c.CopyToClipboard=c,_.exports=c},335:function(_,K,n){var p=n(31479);function c(C,W){var k=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!k){if(Array.isArray(C)||(k=p(C))||W&&C&&typeof C.length=="number"){k&&(C=k);var v=0,H=function(){};return{s:H,n:function(){return v>=C.length?{done:!0}:{done:!1,value:C[v++]}},e:function(I){throw I},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=!0,Z=!1,j;return{s:function(){k=k.call(C)},n:function(){var I=k.next();return P=I.done,I},e:function(I){Z=!0,j=I},f:function(){try{!P&&k.return!=null&&k.return()}finally{if(Z)throw j}}}}_.exports=c,_.exports.__esModule=!0,_.exports.default=_.exports}}]);
