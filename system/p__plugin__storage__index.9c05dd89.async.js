"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[9170],{71384:function(W,O,s){var C=s(18201),_=s(66342),Z=s(75271),u=s(31945),A=s(52676),d=["fieldProps","min","proFieldProps","max"],K=function(i,t){var j=i.fieldProps,l=i.min,M=i.proFieldProps,U=i.max,T=(0,_.Z)(i,d);return(0,A.jsx)(u.Z,(0,C.Z)({valueType:"digit",fieldProps:(0,C.Z)({min:l,max:U},j),ref:t,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:M},T))},y=Z.forwardRef(K);O.Z=y},85606:function(W,O,s){var C=s(48305),_=s.n(C),Z=s(75304),u=s(22683),A=s(96570),d=s(75271),K=s(52676),y=function(i){var t=(0,d.useState)(void 0),j=_()(t,2),l=j[0],M=j[1],U=(0,d.useState)(""),T=_()(U,2),m=T[0],S=T[1],R=function(){(0,Z.roP)({type:"multi"}).then(function(v){var h=(v.data||[]).map(function(b){return{key:b.id,tab:b.name,is_main:b.is_main}});M(h);var E=(0,u.KJ)("sub-site-id");!E&&h.length>0&&(E=h[0].key+"");var p=h.find(function(b){return b.key===Number(E)}),o=!1;p&&(o=!0,p.is_main&&(o=!1)),(0,u.Xq)("is-sub-site",o),S(E)})};(0,d.useEffect)(function(){R()},[]);var D=function(v){var h;S(v),(0,u.Xq)("sub-site-id",v);var E=l.find(function(o){return o.key===Number(v)}),p=!0;E.is_main&&(p=!1),(0,u.Xq)("is-sub-site",p),(h=i.onTabChange)===null||h===void 0||h.call(i,v,p)};return(0,K.jsx)(A._z,{tabList:l,tabActiveKey:m,onTabChange:D,title:i.title,children:i.children})};O.Z=y},84844:function(W,O,s){s.r(O);var C=s(90228),_=s.n(C),Z=s(87999),u=s.n(Z),A=s(48305),d=s.n(A),K=s(85606),y=s(75304),I=s(74133),i=s(76334),t=s(96640),j=s(71384),l=s(32064),M=s(34206),U=s(91827),T=s(18874),m=s(9921),S=s(48782),R=s(47634),D=s(75271),e=s(52676),v=function(){var E=(0,D.useState)({}),p=d()(E,2),o=p[0],b=p[1],G=(0,D.useState)(!1),B=d()(G,2),$=B[0],w=B[1],X=(0,D.useState)("local"),F=d()(X,2),x=F[0],N=F[1],Q=(0,D.useState)(""),z=d()(Q,2),J=z[0],V=z[1],a=(0,l.useIntl)(),k=function(){var g=u()(_()().mark(function n(){var f,c;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,y.z1I)();case 2:f=r.sent,c=f.data||{},b(c),N(c.storage_type),w(!0);case 7:case"end":return r.stop()}},n)}));return function(){return g.apply(this,arguments)}}(),H=function(n){k().then(function(){V(n)})};(0,D.useEffect)(function(){k()},[]);var Y=function(n){N(n.target.value)},q=function(n,f){var c=new FormData;c.append("file",f.file),c.append("name",n);var P=M.ZP.loading(a.formatMessage({id:"setting.system.submitting"}),0);(0,y.Efz)(c).then(function(r){M.ZP.success(r.msg),o[n]=r.data,b(Object.assign({},o))}).finally(function(){P()})},ee=function(){var g=u()(_()().mark(function n(f){var c;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:c=M.ZP.loading(a.formatMessage({id:"setting.system.submitting"}),0),(0,y.neD)(f).then(function(L){M.ZP.success(L.msg)}).catch(function(L){console.log(L)}).finally(function(){c()});case 2:case"end":return r.stop()}},n)}));return function(f){return g.apply(this,arguments)}}();return(0,e.jsx)(K.Z,{onTabChange:function(n){return H(n)},children:(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(T.Z,{message:a.formatMessage({id:"plugin.storage.tips"})}),(0,e.jsx)("div",{className:"center-mid-card",children:$&&(0,e.jsxs)(I.A,{onFinish:ee,initialValues:o,children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.storage.base"})}),(0,e.jsx)(i.Z.Group,{name:"storage_type",label:a.formatMessage({id:"plugin.storage.type"}),fieldProps:{onChange:Y},options:[{value:"local",label:a.formatMessage({id:"plugin.storage.type.local"})},{value:"aliyun",label:a.formatMessage({id:"plugin.htmlcache.storage-type.aliyun"})},{value:"tencent",label:a.formatMessage({id:"plugin.htmlcache.storage-type.tencent"})},{value:"qiniu",label:a.formatMessage({id:"plugin.htmlcache.storage-type.qiniu"})},{value:"upyun",label:a.formatMessage({id:"plugin.htmlcache.storage-type.upyun"})},{value:"ftp",label:a.formatMessage({id:"plugin.htmlcache.storage-type.ftp"})},{value:"ssh",label:a.formatMessage({id:"plugin.htmlcache.storage-type.ssh"})}]}),(0,e.jsx)(t.Z,{name:"storage_url",label:a.formatMessage({id:"plugin.storage.url"}),placeholder:""}),(0,e.jsx)("div",{className:x==="local"?"hidden":"",children:(0,e.jsx)(i.Z.Group,{name:"keep_local",label:a.formatMessage({id:"plugin.storage.keep-local"}),options:[{value:!1,label:a.formatMessage({id:"plugin.storage.keep-local.no"})},{value:!0,label:a.formatMessage({id:"plugin.storage.keep-local.yes"})}],extra:a.formatMessage({id:"plugin.storage.keep-local.description"})})}),(0,e.jsxs)("div",{className:x!=="aliyun"?"hidden":"",children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.storage-type.aliyun"})}),(0,e.jsx)(t.Z,{name:"aliyun_endpoint",label:a.formatMessage({id:"plugin.htmlcache.aliyun.endpoint"}),placeholder:a.formatMessage({id:"plugin.htmlcache.aliyun.endpoint.placeholder"})}),(0,e.jsx)(t.Z,{name:"aliyun_access_key_id",label:"AccessKeyId",placeholder:""}),(0,e.jsx)(t.Z,{name:"aliyun_access_key_secret",label:"AccessKeySecret",placeholder:""}),(0,e.jsx)(t.Z,{name:"aliyun_bucket_name",label:a.formatMessage({id:"plugin.htmlcache.aliyun.bucket-name"}),placeholder:""})]}),(0,e.jsxs)("div",{className:x!=="tencent"?"hidden":"",children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.storage-type.tencent"})}),(0,e.jsx)(t.Z,{name:"tencent_secret_id",label:"SecretId",placeholder:""}),(0,e.jsx)(t.Z,{name:"tencent_secret_key",label:"SecretKey",placeholder:""}),(0,e.jsx)(t.Z,{name:"tencent_bucket_url",label:a.formatMessage({id:"plugin.htmlcache.tencent.bucket-url"}),placeholder:a.formatMessage({id:"plugin.htmlcache.tencent.bucket-url.placeholder"})})]}),(0,e.jsxs)("div",{className:x!=="qiniu"?"hidden":"",children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.storage-type.qiniu"})}),(0,e.jsx)(t.Z,{name:"qiniu_access_key",label:"AccessKey",placeholder:""}),(0,e.jsx)(t.Z,{name:"qiniu_secret_key",label:"SecretKey",placeholder:""}),(0,e.jsx)(t.Z,{name:"qiniu_bucket",label:a.formatMessage({id:"plugin.htmlcache.qiniu.bucket-name"}),placeholder:a.formatMessage({id:"plugin.htmlcache.qiniu.bucket-name.placeholder"})}),(0,e.jsx)(i.Z.Group,{name:"qiniu_region",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region"}),options:[{value:"z0",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.z0"})},{value:"z1",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.z1"})},{value:"z2",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.z2"})},{value:"na0",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.na0"})},{value:"as0",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.as0"})},{value:"cn-east-2",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.cn-east2"})},{value:"fog-cn-east-1",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.fog-cn-east1"})}]})]}),(0,e.jsxs)("div",{className:x!=="upyun"?"hidden":"",children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.storage-type.upyun"})}),(0,e.jsx)(t.Z,{name:"upyun_operator",label:a.formatMessage({id:"plugin.htmlcache.upyun.operator"}),placeholder:""}),(0,e.jsx)(t.Z,{name:"upyun_password",label:a.formatMessage({id:"plugin.htmlcache.upyun.password"}),placeholder:""}),(0,e.jsx)(t.Z,{name:"upyun_bucket",label:a.formatMessage({id:"plugin.htmlcache.upyun.bucket"}),placeholder:""})]}),(0,e.jsxs)("div",{className:x!=="ftp"?"hidden":"",children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.storage-type.ftp"})}),(0,e.jsx)("p",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.ftp.tips"})}),(0,e.jsx)(t.Z,{name:"ftp_host",label:a.formatMessage({id:"plugin.htmlcache.ftp.host"}),placeholder:""}),(0,e.jsx)(j.Z,{name:"ftp_port",label:a.formatMessage({id:"plugin.htmlcache.ftp.port"}),placeholder:""}),(0,e.jsx)(t.Z,{name:"ftp_username",label:a.formatMessage({id:"plugin.htmlcache.ftp.username"}),placeholder:""}),(0,e.jsx)(t.Z,{name:"ftp_password",label:a.formatMessage({id:"plugin.htmlcache.ftp.password"}),placeholder:""}),(0,e.jsx)(t.Z,{name:"ftp_webroot",label:a.formatMessage({id:"plugin.htmlcache.ftp.webroot"}),placeholder:""})]}),(0,e.jsxs)("div",{className:x!=="ssh"?"hidden":"",children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.storage-type.ssh"})}),(0,e.jsx)(t.Z,{name:"ssh_host",label:a.formatMessage({id:"plugin.htmlcache.ssh.host"}),placeholder:""}),(0,e.jsx)(j.Z,{name:"ssh_port",label:a.formatMessage({id:"plugin.htmlcache.ssh.port"}),placeholder:""}),(0,e.jsx)(t.Z,{name:"ssh_username",label:a.formatMessage({id:"plugin.htmlcache.ssh.username"}),placeholder:""}),(0,e.jsx)(t.Z,{name:"ssh_password",label:a.formatMessage({id:"plugin.htmlcache.ssh.password"}),placeholder:""}),(0,e.jsxs)(t.Z,{label:a.formatMessage({id:"plugin.htmlcache.ssh.or-key"}),extra:a.formatMessage({id:"plugin.htmlcache.ssh.or-key.description"}),children:[(0,e.jsx)(S.Z,{name:"file",className:"logo-uploader",showUploadList:!1,accept:".crt,.pem,.key",customRequest:function(){var g=u()(_()().mark(function n(f){return _()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",q("ssh_private_key",f));case 1:case"end":return P.stop()}},n)}));return function(n){return g.apply(this,arguments)}}(),children:(0,e.jsx)(R.ZP,{type:"primary",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.htmlcache.ssh.or-key.upload"})})}),o.ssh_private_key&&(0,e.jsx)("div",{className:"upload-file",children:o.ssh_private_key})]}),(0,e.jsx)(t.Z,{name:"ssh_webroot",label:a.formatMessage({id:"plugin.htmlcache.ssh.webroot"}),placeholder:""})]})]})})]},J)})};O.default=v}}]);
