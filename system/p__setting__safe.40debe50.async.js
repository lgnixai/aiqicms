"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[5331],{85606:function(W,v,t){var A=t(48305),m=t.n(A),U=t(75304),f=t(22683),K=t(96570),g=t(75271),x=t(52676),P=function(i){var b=(0,g.useState)(void 0),M=m()(b,2),D=M[0],O=M[1],S=(0,g.useState)(""),p=m()(S,2),a=p[0],C=p[1],R=function(){(0,U.roP)({type:"multi"}).then(function(_){var s=(_.data||[]).map(function(c){return{key:c.id,tab:c.name,is_main:c.is_main}});O(s);var d=(0,f.KJ)("sub-site-id");!d&&s.length>0&&(d=s[0].key+"");var r=s.find(function(c){return c.key===Number(d)}),u=!1;r&&(u=!0,r.is_main&&(u=!1)),(0,f.Xq)("is-sub-site",u),C(d)})};(0,g.useEffect)(function(){R()},[]);var L=function(_){var s;C(_),(0,f.Xq)("sub-site-id",_);var d=D.find(function(u){return u.key===Number(_)}),r=!0;d.is_main&&(r=!1),(0,f.Xq)("is-sub-site",r),(s=i.onTabChange)===null||s===void 0||s.call(i,_,r)};return(0,x.jsx)(K._z,{tabList:D,tabActiveKey:a,onTabChange:L,title:i.title,children:i.children})};v.Z=P},39501:function(W,v,t){t.r(v);var A=t(90228),m=t.n(A),U=t(87999),f=t.n(U),K=t(48305),g=t.n(K),x=t(85606),P=t(75304),I=t(74133),i=t(76334),b=t(96640),M=t(66857),D=t(32064),O=t(34206),S=t(91827),p=t(75271),a=t(52676),C=function(){var L=(0,p.useState)(null),T=g()(L,2),_=T[0],s=T[1],d=(0,p.useState)(""),r=g()(d,2),u=r[0],c=r[1],e=(0,D.useIntl)(),y=function(){var E=f()(m()().mark(function l(){var n,h;return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,P.Dl2)();case 2:n=o.sent,h=n.data||null,s(h);case 5:case"end":return o.stop()}},l)}));return function(){return E.apply(this,arguments)}}(),B=function(l){y().then(function(){c(l)})};(0,p.useEffect)(function(){y()},[]);var Z=function(){var E=f()(m()().mark(function l(n){var h;return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n.captcha=Number(n.captcha),n.admin_captcha_off=Number(n.admin_captcha_off),n.daily_limit=Number(n.daily_limit),n.content_limit=Number(n.content_limit),n.interval_limit=Number(n.interval_limit),h=O.ZP.loading(e.formatMessage({id:"setting.system.submitting"}),0),(0,P.Qjs)(n).then(function(j){O.ZP.success(j.msg)}).catch(function(j){console.log(j)}).finally(function(){h()});case 7:case"end":return o.stop()}},l)}));return function(n){return E.apply(this,arguments)}}();return(0,a.jsx)(x.Z,{onTabChange:function(l){return B(l)},children:(0,a.jsx)(S.Z,{children:_&&(0,a.jsxs)(I.A,{initialValues:_,onFinish:Z,title:e.formatMessage({id:"menu.setting.safe"}),children:[(0,a.jsx)(i.Z.Group,{name:"admin_captcha_off",label:e.formatMessage({id:"setting.safe.admin-captcha"}),options:[{value:0,label:e.formatMessage({id:"setting.content.enable"})},{value:1,label:e.formatMessage({id:"setting.content.notenable"})}],extra:e.formatMessage({id:"setting.safe.admin-captcha.description"})}),(0,a.jsx)(i.Z.Group,{name:"captcha",label:e.formatMessage({id:"setting.safe.captcha"}),options:[{value:0,label:e.formatMessage({id:"setting.content.notenable"})},{value:1,label:e.formatMessage({id:"setting.content.enable"})}],extra:e.formatMessage({id:"setting.safe.captcha.description"})}),(0,a.jsx)(b.Z,{name:"daily_limit",label:e.formatMessage({id:"setting.safe.daily-limit"}),width:"lg",fieldProps:{suffix:e.formatMessage({id:"setting.safe.daily-limit.suffix"})},extra:e.formatMessage({id:"setting.safe.daily-limit.description"})}),(0,a.jsx)(b.Z,{name:"content_limit",label:e.formatMessage({id:"setting.safe.content-limit"}),width:"lg",fieldProps:{suffix:e.formatMessage({id:"setting.safe.content-limit.suffix"})},extra:e.formatMessage({id:"setting.safe.daily-limit.description"})}),(0,a.jsx)(b.Z,{name:"interval_limit",label:e.formatMessage({id:"setting.safe.interval-limit"}),width:"lg",fieldProps:{suffix:e.formatMessage({id:"setting.safe.interval-limit.suffix"})},extra:e.formatMessage({id:"setting.safe.daily-limit.description"})}),(0,a.jsx)(M.Z,{name:"content_forbidden",label:e.formatMessage({id:"setting.safe.content-forbidden"}),width:"lg",extra:e.formatMessage({id:"setting.safe.content-forbidden.description"})}),(0,a.jsx)(M.Z,{name:"ua_forbidden",label:e.formatMessage({id:"setting.safe.ua-forbidden"}),width:"lg",extra:e.formatMessage({id:"setting.safe.ua-forbidden.description"})}),(0,a.jsx)(M.Z,{name:"ip_forbidden",label:e.formatMessage({id:"setting.safe.ip-forbidden"}),width:"lg",extra:e.formatMessage({id:"setting.safe.ip-forbidden.description"})}),(0,a.jsx)(i.Z.Group,{name:"api_open",label:e.formatMessage({id:"setting.safe.api-open"}),options:[{value:0,label:e.formatMessage({id:"setting.content.notenable"})},{value:1,label:e.formatMessage({id:"setting.content.enable"})}],extra:e.formatMessage({id:"setting.safe.api-open.description"})}),(0,a.jsx)(i.Z.Group,{name:"api_publish",label:e.formatMessage({id:"setting.safe.api-publish"}),options:[{value:0,label:e.formatMessage({id:"setting.safe.api-publish.draft"})},{value:1,label:e.formatMessage({id:"setting.safe.api-publish.normal"})}]})]})},u)})};v.default=C}}]);
