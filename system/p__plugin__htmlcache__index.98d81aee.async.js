"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[8743],{20860:function(q,D,s){s.d(D,{Z:function(){return d}});var I=s(13233),o=s(75271),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},x=R,K=s(35244),g=function(p,_){return o.createElement(K.Z,(0,I.Z)({},p,{ref:_,icon:x}))},Y=o.forwardRef(g),d=Y},71384:function(q,D,s){var I=s(18201),o=s(66342),R=s(75271),x=s(31945),K=s(52676),g=["fieldProps","min","proFieldProps","max"],Y=function(p,_){var i=p.fieldProps,t=p.min,b=p.proFieldProps,v=p.max,B=(0,o.Z)(p,g);return(0,K.jsx)(x.Z,(0,I.Z)({valueType:"digit",fieldProps:(0,I.Z)({min:t,max:v},i),ref:_,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:b},B))},d=R.forwardRef(Y);D.Z=d},85606:function(q,D,s){var I=s(48305),o=s.n(I),R=s(75304),x=s(22683),K=s(96570),g=s(75271),Y=s(52676),d=function(p){var _=(0,g.useState)(void 0),i=o()(_,2),t=i[0],b=i[1],v=(0,g.useState)(""),B=o()(v,2),ee=B[0],W=B[1],U=function(){(0,R.roP)({type:"multi"}).then(function(u){var j=(u.data||[]).map(function(L){return{key:L.id,tab:L.name,is_main:L.is_main}});b(j);var k=(0,x.KJ)("sub-site-id");!k&&j.length>0&&(k=j[0].key+"");var M=j.find(function(L){return L.key===Number(k)}),f=!1;M&&(f=!0,M.is_main&&(f=!1)),(0,x.Xq)("is-sub-site",f),W(k)})};(0,g.useEffect)(function(){U()},[]);var Z=function(u){var j;W(u),(0,x.Xq)("sub-site-id",u);var k=t.find(function(f){return f.key===Number(u)}),M=!0;k.is_main&&(M=!1),(0,x.Xq)("is-sub-site",M),(j=p.onTabChange)===null||j===void 0||j.call(p,u,M)};return(0,Y.jsx)(K._z,{tabList:t,tabActiveKey:ee,onTabChange:Z,title:p.title,children:p.children})};D.Z=d},34355:function(q,D,s){s.r(D),s.d(D,{default:function(){return be}});var I=s(90228),o=s.n(I),R=s(87999),x=s.n(R),K=s(48305),g=s.n(K),Y=s(85606),d=s(75304),G=s(74133),p=s(76334),_=s(71384),i=s(96640),t=s(32064),b=s(54203),v=s(34206),B=s(91827),ee=s(18874),W=s(59124),U=s(48806),Z=s(9921),ae=s(48782),u=s(47634),j=s(53745),k=s(16483),M=s.n(k),f=s(75271),L=s(20860),pe=s(18640),ve=s(12964),e=s(52676),xe=function(w){var Q=(0,f.useRef)(),y=(0,f.useState)([]),X=g()(y,2),re=X[0],V=X[1],m=(0,t.useIntl)(),J=function(){var P=x()(o()().mark(function r(h){return o()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:(0,d.gQm)({paths:h}).then(function(){var F,E;V([]),(F=Q.current)===null||F===void 0||(E=F.reload)===null||E===void 0||E.call(F)});case 1:case"end":return O.stop()}},r)}));return function(h){return P.apply(this,arguments)}}(),te=[{title:m.formatMessage({id:"plugin.finance.time"}),dataIndex:"created_time",render:function(r){return M()(r*1e3).format("YYYY-MM-DD HH:mm")}},{title:m.formatMessage({id:"plugin.htmlcache.remote-file"}),dataIndex:"remote_file",render:function(r,h){return(0,e.jsx)("div",{className:"word-wrap",children:(0,e.jsx)("a",{href:w.storageUrl+"/"+h.remote_file,target:"_blank",rel:"noreferrer",children:h.remote_file})})}},{title:m.formatMessage({id:"plugin.htmlcache.local-file"}),dataIndex:"local_file",render:function(r,h){return(0,e.jsx)("div",{className:"word-wrap",children:h.local_file})}},{title:m.formatMessage({id:"plugin.htmlcache.push-status"}),dataIndex:"status",render:function(r,h){return h.status===1?(0,e.jsx)("span",{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push-status.success"})}):(0,e.jsxs)(ve.Z,{title:h.error_msg,children:[(0,e.jsx)("span",{className:"text-red",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push-status.failure"})}),h.error_msg&&(0,e.jsx)(L.Z,{className:"error-icon"})]})}},{title:m.formatMessage({id:"setting.action"}),dataIndex:"option",valueType:"option",render:function(r,h){return(0,e.jsx)(j.Z,{size:20,children:(0,e.jsx)("span",{className:h.status===0?"text-red link":"link",onClick:x()(o()().mark(function z(){return o()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:J([h.local_file]);case 1:case"end":return F.stop()}},z)})),children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.re-push"})},"push")})}}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(b.Z,{width:1e3,title:m.formatMessage({id:"plugin.htmlcache.push-log"}),open:w.open,onCancel:w.onCancel,footer:null,children:(0,e.jsx)(pe.Z,{actionRef:Q,rowKey:"local_file",search:!1,ghost:!0,toolBarRender:!1,tableAlertOptionRender:function(r){var h=r.selectedRowKeys,z=r.onCleanSelected;return(0,e.jsxs)(j.Z,{children:[(0,e.jsx)(u.ZP,{size:"small",onClick:x()(o()().mark(function O(){return o()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:J(h);case 1:case"end":return E.stop()}},O)})),children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.re-push"})}),(0,e.jsx)(u.ZP,{type:"link",size:"small",onClick:z,children:(0,e.jsx)(t.FormattedMessage,{id:"content.option.cancel-select"})})]})},request:function(r){return r.status=w.status||"",(0,d.LYU)(r)},columnsState:{persistenceKey:"html-pushlog-table",persistenceType:"localStorage"},columns:te,rowSelection:{onChange:function(r){V(r)}},pagination:{showSizeChanger:!0}})})})},je=xe,T=null,$=null,Me=function(){var w=(0,f.useState)(null),Q=g()(w,2),y=Q[0],X=Q[1],re=(0,f.useState)(null),V=g()(re,2),m=V[0],J=V[1],te=(0,f.useState)({}),P=g()(te,2),r=P[0],h=P[1],z=(0,f.useState)(!1),O=g()(z,2),F=O[0],E=O[1],ye=(0,f.useState)("local"),ce=g()(ye,2),H=ce[0],de=ce[1],Pe=(0,f.useState)(!1),oe=g()(Pe,2),ue=oe[0],se=oe[1],Ce=(0,f.useState)(""),he=g()(Ce,2),Se=he[0],me=he[1],_e=(0,f.useState)(""),ge=g()(_e,2),Fe=ge[0],Ne=ge[1],a=(0,t.useIntl)(),fe=function(){var l=x()(o()().mark(function n(){var c,N;return o()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,d.$yV)();case 2:c=S.sent,N=c.data||{},h(N),de(N.storage_type),E(!0);case 7:case"end":return S.stop()}},n)}));return function(){return l.apply(this,arguments)}}(),Oe=function(n){de(n.target.value)},le=function(){(0,d.xHl)().then(function(n){if(J(n.data||null),!n.data||n.data.finished_time>0){clearInterval($);return}})},ne=function(){clearInterval($),$=setInterval(function(){le()},1500)},C=function(){(0,d.ehF)().then(function(n){if(X(n.data||null),!n.data||n.data.finished_time>0){clearInterval(T),ne();return}})},Ee=function(n){clearInterval(T),clearInterval($),fe().then(function(){C(),le(),Ne(n)})};(0,f.useEffect)(function(){return fe(),C(),le(),function(){clearInterval(T),clearInterval($)}},[]);var De=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.generate.all.confirm"}),onOk:function(){(0,d.koI)().then(function(c){v.ZP.info(c.msg),C(),T=setInterval(function(){C()},1500)})}})},Ie=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.generate.home.confirm"}),onOk:function(){(0,d.Vfi)().then(function(c){v.ZP.info(c.msg),C(),T=setInterval(function(){C()},1500)})}})},ke=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.generate.category.confirm"}),onOk:function(){(0,d.a7j)().then(function(c){v.ZP.info(c.msg),C(),T=setInterval(function(){C()},1500)})}})},Te=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.generate.archive.confirm"}),onOk:function(){(0,d.onU)().then(function(c){v.ZP.info(c.msg),C(),T=setInterval(function(){C()},1500)})}})},Ae=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.generate.tag.confirm"}),onOk:function(){(0,d.QAs)().then(function(c){v.ZP.info(c.msg),C(),T=setInterval(function(){C()},1500)})}})},Re=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.clean.confirm"}),content:a.formatMessage({id:"plugin.htmlcache.clean.confirm.content"}),onOk:function(){(0,d.I0K)().then(function(){v.ZP.success(a.formatMessage({id:"plugin.htmlcache.clean.success"}))})}})},Ke=function(n,c){var N=new FormData;N.append("file",c.file),N.append("name",n);var A=v.ZP.loading(a.formatMessage({id:"setting.system.submitting"}),0);(0,d.aFC)(N).then(function(S){v.ZP.success(S.msg),r[n]=S.data,h(Object.assign({},r))}).finally(function(){A()})},Ye=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.push.all.confirm"}),content:a.formatMessage({id:"plugin.htmlcache.push.all.confirm.content"}),onOk:function(){(0,d.gQm)({all:!0}).then(function(c){v.ZP.info(c.msg),ne()})}})},Le=function(){b.Z.confirm({title:a.formatMessage({id:"plugin.htmlcache.push.addon.confirm"}),content:a.formatMessage({id:"plugin.htmlcache.push.addon.confirm.content"}),onOk:function(){(0,d.gQm)({all:!1}).then(function(c){v.ZP.info(c.msg),ne()})}})},Be=function(){me(""),se(!0)},Ue=function(){me("error"),se(!0)},we=function(){var l=x()(o()().mark(function n(c){var N;return o()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:N=v.ZP.loading(a.formatMessage({id:"setting.system.submitting"}),0),(0,d.Ch1)(c).then(function(ie){v.ZP.success(ie.msg)}).catch(function(ie){console.log(ie)}).finally(function(){N()});case 2:case"end":return S.stop()}},n)}));return function(c){return l.apply(this,arguments)}}();return(0,e.jsxs)(Y.Z,{onTabChange:function(n){return Ee(n)},children:[(0,e.jsxs)(B.Z,{children:[(0,e.jsx)(ee.Z,{style:{marginBottom:20},description:(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.description.1"})}),(0,e.jsx)("p",{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.description.2"})}),(0,e.jsx)("p",{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.description.3"})}),(0,e.jsx)("div",{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.description.4"})})]})}),F&&(0,e.jsx)(G.A,{initialValues:r,onFinish:we,title:a.formatMessage({id:"menu.plugin.htmlcache"}),children:(0,e.jsxs)(W.Z,{gutter:16,children:[(0,e.jsxs)(U.Z,{sm:10,xs:24,children:[(0,e.jsx)(p.Z.Group,{name:"open",label:a.formatMessage({id:"plugin.htmlcache.isopen"}),options:[{label:a.formatMessage({id:"plugin.fulltext.open.false"}),value:!1},{label:a.formatMessage({id:"plugin.fulltext.open.true"}),value:!0}]}),(0,e.jsx)(_.Z,{name:"index_cache",label:a.formatMessage({id:"plugin.htmlcache.index-time"}),wrapperCol:{span:12},fieldProps:{addonAfter:a.formatMessage({id:"plugin.htmlcache.index-time.suffix"})},extra:a.formatMessage({id:"plugin.htmlcache.index-time.description"})}),(0,e.jsx)(_.Z,{name:"category_cache",label:a.formatMessage({id:"plugin.htmlcache.category-time"}),wrapperCol:{span:12},fieldProps:{addonAfter:a.formatMessage({id:"plugin.htmlcache.index-time.suffix"})},extra:a.formatMessage({id:"plugin.htmlcache.index-time.description"})}),(0,e.jsx)(_.Z,{name:"detail_cache",label:a.formatMessage({id:"plugin.htmlcache.archive-time"}),wrapperCol:{span:12},fieldProps:{addonAfter:a.formatMessage({id:"plugin.htmlcache.index-time.suffix"})},extra:a.formatMessage({id:"plugin.htmlcache.index-time.description"})})]}),(0,e.jsxs)(U.Z,{sm:10,xs:24,children:[(0,e.jsx)(p.Z.Group,{name:"storage_type",label:a.formatMessage({id:"plugin.htmlcache.storage-type"}),fieldProps:{onChange:Oe},options:[{value:"",label:a.formatMessage({id:"plugin.htmlcache.storage-type.close"})},{value:"aliyun",label:a.formatMessage({id:"plugin.htmlcache.storage-type.aliyun"})},{value:"tencent",label:a.formatMessage({id:"plugin.htmlcache.storage-type.tencent"})},{value:"qiniu",label:a.formatMessage({id:"plugin.htmlcache.storage-type.qiniu"})},{value:"upyun",label:a.formatMessage({id:"plugin.htmlcache.storage-type.upyun"})},{value:"ftp",label:a.formatMessage({id:"plugin.htmlcache.storage-type.ftp"})},{value:"ssh",label:a.formatMessage({id:"plugin.htmlcache.storage-type.ssh"})}]}),(0,e.jsx)(i.Z,{name:"storage_url",label:a.formatMessage({id:"plugin.htmlcache.storage-url"}),placeholder:a.formatMessage({id:"plugin.htmlcache.storage-url.placeholder"})}),(0,e.jsxs)("div",{className:H!=="aliyun"?"hidden":"",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.storage-type.aliyun"})}),(0,e.jsx)(i.Z,{name:"aliyun_endpoint",label:a.formatMessage({id:"plugin.htmlcache.aliyun.endpoint"}),placeholder:a.formatMessage({id:"plugin.htmlcache.aliyun.endpoint.placeholder"})}),(0,e.jsx)(i.Z,{name:"aliyun_access_key_id",label:"AccessKeyId",placeholder:""}),(0,e.jsx)(i.Z,{name:"aliyun_access_key_secret",label:"AccessKeySecret",placeholder:""}),(0,e.jsx)(i.Z,{name:"aliyun_bucket_name",label:a.formatMessage({id:"plugin.htmlcache.aliyun.bucket-name"}),placeholder:""})]}),(0,e.jsxs)("div",{className:H!=="tencent"?"hidden":"",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.storage-type.tencent"})}),(0,e.jsx)(i.Z,{name:"tencent_secret_id",label:"SecretId",placeholder:""}),(0,e.jsx)(i.Z,{name:"tencent_secret_key",label:"SecretKey",placeholder:""}),(0,e.jsx)(i.Z,{name:"tencent_bucket_url",label:a.formatMessage({id:"plugin.htmlcache.tencent.bucket-url"}),placeholder:a.formatMessage({id:"plugin.htmlcache.tencent.bucket-url.placeholder"})})]}),(0,e.jsxs)("div",{className:H!=="qiniu"?"hidden":"",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.storage-type.qiniu"})}),(0,e.jsx)(i.Z,{name:"qiniu_access_key",label:"AccessKey",placeholder:""}),(0,e.jsx)(i.Z,{name:"qiniu_secret_key",label:"SecretKey",placeholder:""}),(0,e.jsx)(i.Z,{name:"qiniu_bucket",label:a.formatMessage({id:"plugin.htmlcache.qiniu.bucket-name"}),placeholder:a.formatMessage({id:"plugin.htmlcache.qiniu.bucket-name.placeholder"})}),(0,e.jsx)(p.Z.Group,{name:"qiniu_region",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region"}),options:[{value:"z0",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.z0"})},{value:"z1",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.z1"})},{value:"z2",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.z2"})},{value:"na0",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.na0"})},{value:"as0",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.as0"})},{value:"cn-east-2",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.cn-east2"})},{value:"fog-cn-east-1",label:a.formatMessage({id:"plugin.htmlcache.qiniu.region.fog-cn-east1"})}]})]}),(0,e.jsxs)("div",{className:H!=="upyun"?"hidden":"",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.storage-type.upyun"})}),(0,e.jsx)(i.Z,{name:"upyun_operator",label:a.formatMessage({id:"plugin.htmlcache.upyun.operator"}),placeholder:""}),(0,e.jsx)(i.Z,{name:"upyun_password",label:a.formatMessage({id:"plugin.htmlcache.upyun.password"}),placeholder:""}),(0,e.jsx)(i.Z,{name:"upyun_bucket",label:a.formatMessage({id:"plugin.htmlcache.upyun.bucket"}),placeholder:""})]}),(0,e.jsxs)("div",{className:H!=="ftp"?"hidden":"",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.storage-type.ftp"})}),(0,e.jsx)("p",{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.ftp.tips"})}),(0,e.jsx)(i.Z,{name:"ftp_host",label:a.formatMessage({id:"plugin.htmlcache.ftp.host"}),placeholder:""}),(0,e.jsx)(_.Z,{name:"ftp_port",label:a.formatMessage({id:"plugin.htmlcache.ftp.port"}),placeholder:""}),(0,e.jsx)(i.Z,{name:"ftp_username",label:a.formatMessage({id:"plugin.htmlcache.ftp.username"}),placeholder:""}),(0,e.jsx)(i.Z,{name:"ftp_password",label:a.formatMessage({id:"plugin.htmlcache.ftp.password"}),placeholder:""}),(0,e.jsx)(i.Z,{name:"ftp_webroot",label:a.formatMessage({id:"plugin.htmlcache.ftp.webroot"}),placeholder:""})]}),(0,e.jsxs)("div",{className:H!=="ssh"?"hidden":"",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.storage-type.ssh"})}),(0,e.jsx)(i.Z,{name:"ssh_host",label:a.formatMessage({id:"plugin.htmlcache.ssh.host"}),placeholder:""}),(0,e.jsx)(_.Z,{name:"ssh_port",label:a.formatMessage({id:"plugin.htmlcache.ssh.port"}),placeholder:""}),(0,e.jsx)(i.Z,{name:"ssh_username",label:a.formatMessage({id:"plugin.htmlcache.ssh.username"}),placeholder:""}),(0,e.jsx)(i.Z,{name:"ssh_password",label:a.formatMessage({id:"plugin.htmlcache.ssh.password"}),placeholder:""}),(0,e.jsxs)(i.Z,{label:a.formatMessage({id:"plugin.htmlcache.ssh.or-key"}),extra:a.formatMessage({id:"plugin.htmlcache.ssh.or-key.description"}),children:[(0,e.jsx)(ae.Z,{name:"file",className:"logo-uploader",showUploadList:!1,accept:".crt,.pem,.key",customRequest:function(){var l=x()(o()().mark(function n(c){return o()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Ke("ssh_private_key",c));case 1:case"end":return A.stop()}},n)}));return function(n){return l.apply(this,arguments)}}(),children:(0,e.jsx)(u.ZP,{type:"primary",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.ssh.or-key.upload"})})}),r.ssh_private_key&&(0,e.jsx)("div",{className:"upload-file",children:r.ssh_private_key})]}),(0,e.jsx)(i.Z,{name:"ssh_webroot",label:a.formatMessage({id:"plugin.htmlcache.ssh.webroot"}),placeholder:""})]})]})]})}),(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.generate.name"})}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.generate.last-time"}),r.last_build_time>0?M()(r.last_build_time*1e3).format("YYYY-MM-DD"):a.formatMessage({id:"plugin.htmlcache.generate.last-time.empty"})]}),(0,e.jsxs)(j.Z,{className:"space-wrap",size:20,children:[(0,e.jsx)(u.ZP,{onClick:function(){return Re()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.clean.all"})}),(0,e.jsx)(u.ZP,{onClick:function(){return De()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.all"})}),(0,e.jsx)(u.ZP,{onClick:function(){return Ie()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.home"})}),(0,e.jsx)(u.ZP,{onClick:function(){return ke()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.category"})}),(0,e.jsx)(u.ZP,{onClick:function(){return Te()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.archive"})}),(0,e.jsx)(u.ZP,{onClick:function(){return Ae()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.tag"})})]})]}),(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push.name"})}),(0,e.jsxs)("p",{children:[(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push.last-time"}),r.last_push_time>0?M()(r.last_push_time*1e3).format("YYYY-MM-DD"):a.formatMessage({id:"plugin.htmlcache.push.last-time.empty"})]}),(0,e.jsx)("div",{children:(0,e.jsxs)(j.Z,{className:"space-wrap",size:20,children:[(0,e.jsx)(u.ZP,{onClick:function(){return Ye()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push.all"})}),(0,e.jsx)(u.ZP,{onClick:function(){return Le()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push.addon"})}),(0,e.jsx)(u.ZP,{onClick:function(){return Be()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push.log.all"})}),(0,e.jsx)(u.ZP,{onClick:function(){return Ue()},children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push.log.error"})})]})}),(y||m)&&(0,e.jsxs)(W.Z,{gutter:16,children:[y&&(0,e.jsx)(U.Z,{sm:12,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.process"})}),(0,e.jsxs)(j.Z,{direction:"vertical",size:10,children:[(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.start-time"})}),(0,e.jsx)("div",{className:"field-value",children:M()(y.start_time*1e3).format("YYYY-MM-DD HH:mm:ss")})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.end-time"})}),(0,e.jsx)("div",{className:"field-value",children:y.finished_time>0?M()(y.finished_time*1e3).format("YYYY-MM-DD HH:mm:ss"):a.formatMessage({id:"plugin.htmlcache.build.unfinished"})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.total"})}),(0,e.jsx)("div",{className:"field-value",children:y.total})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.finished-count"})}),(0,e.jsx)("div",{className:"field-value",children:y.finished_count})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.current"})}),(0,e.jsx)("div",{className:"field-value",children:y.current})]}),y.error_msg&&(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.error-msg"})}),(0,e.jsx)("div",{className:"field-value",children:y.error_msg})]})]})]})}),m&&(0,e.jsx)(U.Z,{sm:12,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.push.process"})}),(0,e.jsxs)(j.Z,{direction:"vertical",size:10,children:[(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.start-time"})}),(0,e.jsx)("div",{className:"field-value",children:M()(m.start_time*1e3).format("YYYY-MM-DD HH:mm:ss")})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.end-time"})}),(0,e.jsx)("div",{className:"field-value",children:m.finished_time>0?M()(m.finished_time*1e3).format("YYYY-MM-DD HH:mm:ss"):a.formatMessage({id:"plugin.htmlcache.build.unfinished"})})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.total"})}),(0,e.jsx)("div",{className:"field-value",children:m.total})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.finished-count"})}),(0,e.jsx)("div",{className:"field-value",children:m.finished_count})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.error-count"})}),(0,e.jsx)("div",{className:"field-value",children:m.error_count})]}),(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.current"})}),(0,e.jsx)("div",{className:"field-value",children:m.current})]}),m.error_msg&&(0,e.jsxs)("div",{className:"field-item",children:[(0,e.jsx)("div",{className:"field-label",children:(0,e.jsx)(t.FormattedMessage,{id:"plugin.htmlcache.build.error-msg"})}),(0,e.jsx)("div",{className:"field-value",children:m.error_msg})]})]})]})})]})]},Fe),ue&&(0,e.jsx)(je,{open:ue,status:Se,storageUrl:r.storage_url,onCancel:function(){se(!1)}})]})},be=Me}}]);
