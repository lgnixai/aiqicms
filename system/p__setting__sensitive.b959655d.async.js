"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[1850],{85606:function(N,p,e){var K=e(48305),a=e.n(K),R=e(75304),r=e(22683),L=e(96570),m=e(75271),I=e(52676),h=function(P){var b=(0,m.useState)(void 0),v=a()(b,2),A=v[0],y=v[1],W=(0,m.useState)(""),S=a()(W,2),f=S[0],_=S[1],B=function(){(0,R.roP)({type:"multi"}).then(function(u){var n=(u.data||[]).map(function(d){return{key:d.id,tab:d.name,is_main:d.is_main}});y(n);var l=(0,r.KJ)("sub-site-id");!l&&n.length>0&&(l=n[0].key+"");var o=n.find(function(d){return d.key===Number(l)}),E=!1;o&&(E=!0,o.is_main&&(E=!1)),(0,r.Xq)("is-sub-site",E),_(l)})};(0,m.useEffect)(function(){B()},[]);var Z=function(u){var n;_(u),(0,r.Xq)("sub-site-id",u);var l=A.find(function(E){return E.key===Number(u)}),o=!0;l.is_main&&(o=!1),(0,r.Xq)("is-sub-site",o),(n=P.onTabChange)===null||n===void 0||n.call(P,u,o)};return(0,I.jsx)(L._z,{tabList:A,tabActiveKey:f,onTabChange:Z,title:P.title,children:P.children})};p.Z=h},9700:function(N,p,e){e.r(p);var K=e(90228),a=e.n(K),R=e(87999),r=e.n(R),L=e(48305),m=e.n(L),I=e(85606),h=e(5933),j=e(74133),P=e(66857),b=e(32064),v=e(34206),A=e(54203),y=e(91827),W=e(53745),S=e(47634),f=e(75271),_=e(52676),B=function(){var U=f.createRef(),u=(0,f.useState)([]),n=m()(u,2),l=n[0],o=n[1],E=(0,f.useState)(!1),d=m()(E,2),$=d[0],J=d[1],X=(0,f.useState)(""),x=m()(X,2),z=x[0],G=x[1],M=(0,b.useIntl)(),F=function(){var g=r()(a()().mark(function t(){var i,c;return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,h.JM)();case 2:i=s.sent,c=i.data||[],o(c),J(!0);case 6:case"end":return s.stop()}},t)}));return function(){return g.apply(this,arguments)}}(),Q=function(t){F().then(function(){G(t)})};(0,f.useEffect)(function(){F()},[]);var V=function(){var g=r()(a()().mark(function t(i){var c,C;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:c=v.ZP.loading(M.formatMessage({id:"setting.system.submitting"}),0),C=i.words.split(`
`),(0,h.pi)(C).then(function(D){v.ZP.success(D.msg)}).catch(function(D){console.log(D)}).finally(function(){c()});case 3:case"end":return O.stop()}},t)}));return function(i){return g.apply(this,arguments)}}(),H=function(){A.Z.confirm({title:M.formatMessage({id:"setting.sensitive.confirm-sync"}),onOk:function(){(0,h.mT)({}).then(function(){var i=r()(a()().mark(function c(C){var s,O,D;return a()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return v.ZP.success(C.msg),T.next=3,(0,h.JM)();case 3:O=T.sent,D=O.data||[],(s=U.current)===null||s===void 0||s.setFieldsValue({words:D.join(`
`)});case 6:case"end":return T.stop()}},c)}));return function(c){return i.apply(this,arguments)}}()).catch(function(i){v.ZP.success(i.msg||M.formatMessage({id:"setting.sensitive.sync-failure"}))})}})};return(0,_.jsx)(I.Z,{onTabChange:function(t){return Q(t)},children:(0,_.jsx)(y.Z,{title:M.formatMessage({id:"menu.setting.sensitive"}),extra:(0,_.jsx)(W.Z,{size:20,children:(0,_.jsx)(S.ZP,{onClick:H,children:(0,_.jsx)(b.FormattedMessage,{id:"setting.sensitive.sync"})})}),children:$&&(0,_.jsx)(j.A,{formRef:U,initialValues:{words:l.join(`
`)},onFinish:V,children:(0,_.jsx)(P.Z,{fieldProps:{rows:20},name:"words",label:M.formatMessage({id:"setting.sensitive.sync.list"}),placeholder:M.formatMessage({id:"setting.sensitive.sync.placeholder"}),extra:M.formatMessage({id:"setting.sensitive.sync.description"})})})},z)})};p.default=B}}]);
