"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[9867],{40169:function(Pe,V,t){t.r(V),t.d(V,{default:function(){return Ie}});var J=t(90228),x=t.n(J),U=t(87999),S=t.n(U),X=t(48305),q=t.n(X),_=t(56972),G=t(75304),ee=t(96570),te=t(18640),l=t(32064),ie=t(54203),O=t(34206),N=t(53745),se=t(91827),le=t(18874),z=t(47634),ne=t(16483),L=t.n(ne),E=t(75271),ae=t(335),B=t.n(ae),re=t(25298),oe=t.n(re),de=t(17069),ce=t.n(de),pe=t(62657),j=t.n(pe),ue=t(21742),ge=t.n(ue),he=t(83136),me=t.n(he),xe=t(82092),M=t.n(xe),fe=t(17361),ve=t(1812),K=t(76836),je=t(6217),Me=t(16621),ye=t(35937),F=t(76334),y=t(96640),Y=t(41265),Q=t(74133),P=t(71384),Ce=t(59124),W=t(48806),Ze=t(43330),A=t(21261),H=t(15947),e=t(52676),be=function(w){ge()(R,w);var $=me()(R);function R(){var a;oe()(this,R);for(var n=arguments.length,v=new Array(n),p=0;p<n;p++)v[p]=arguments[p];return a=$.call.apply($,[this].concat(v)),M()(j()(a),"state",{visible:!1,fetched:!1,setting:{},tmpInput:{},insertImage:0,collect_mode:0,proxyOpen:!1}),M()(j()(a),"handleSetVisible",function(i){a.setState({visible:i})}),M()(j()(a),"handleSubmit",function(){var i=S()(x()().mark(function g(o){var u,d,c;return x()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u=a.state.setting,d=Object.assign(u,o),c=O.ZP.loading(a.props.intl.formatMessage({id:"setting.system.submitting"}),0),(0,K.di)(d).then(function(C){O.ZP.info(C.msg),a.handleSetVisible(!1),a.props.onCancel()}).finally(function(){c()});case 4:case"end":return m.stop()}},g)}));return function(g){return i.apply(this,arguments)}}()),M()(j()(a),"handleRemove",function(i,g){var o=a.state.setting;o[i].splice(g,1),a.setState({setting:o})}),M()(j()(a),"handleChangeTmpInput",function(i,g){var o=a.state.tmpInput;o[i]=g.target.value,a.setState({tmpInput:o})}),M()(j()(a),"handleAddField",function(i){var g=a.state,o=g.tmpInput,u=g.setting;if(i==="content_replace"){if(!o.from||o.from===o.to)return;var d=!1,c=B()(u[i]),h;try{for(c.s();!(h=c.n()).done;){var m=h.value;if(m.from===o.from){d=!0;break}}}catch(C){c.e(C)}finally{c.f()}d||(u[i].push({from:o.from,to:o.to}),o.from="",o.to="")}else u[i].push(o[i]),o[i]="";a.setState({tmpInput:o,setting:u})}),M()(j()(a),"onChangeInsertImage",function(i){a.setState({insertImage:i.target.value})}),M()(j()(a),"handleSelectLogo",function(i){var g=a.state.setting,o=B()(i),u;try{for(o.s();!(u=o.n()).done;){var d=u.value,c=!1;for(var h in g.images)if(g.images[h]===d.logo){c=!0;break}c||g.images.push(d.logo)}}catch(m){o.e(m)}finally{o.f()}a.setState({setting:g})}),M()(j()(a),"setCollectMode",function(i){a.setState({collect_mode:i})}),M()(j()(a),"setproxyOpen",function(i){a.setState({proxyOpen:i})}),a}return ce()(R,[{key:"componentDidMount",value:function(){var n=this;(0,K.qn)().then(function(v){var p,i=v.data;i.title_exclude||(i.title_exclude=[]),i.title_exclude_prefix||(i.title_exclude_prefix=[]),i.title_exclude_suffix||(i.title_exclude_suffix=[]),i.content_exclude_line||(i.content_exclude_line=[]),i.content_exclude||(i.content_exclude=[]),i.link_exclude||(i.link_exclude=[]),i.content_replace||(i.content_replace=[]),i.images||(i.images=[]),n.setState({setting:i,fetched:!0,insertImage:i.insert_image,collect_mode:i.collect_mode||0,proxyOpen:((p=i.proxy_config)===null||p===void 0?void 0:p.open)||!1})})}},{key:"render",value:function(){var n=this,v,p,i,g,o,u,d,c,h=this.state,m=h.visible,C=h.fetched,f=h.setting,Z=h.tmpInput,T=h.insertImage,k=h.collect_mode,Se=h.proxyOpen;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{onClick:function(){n.handleSetVisible(!m)},children:this.props.children}),C&&(0,e.jsxs)(ye.Y,{width:800,title:this.props.intl.formatMessage({id:"plugin.collector.setting"}),initialValues:f,open:m,onOpenChange:function(s){n.handleSetVisible(s),s||n.props.onCancel(s)},onFinish:function(){var r=S()(x()().mark(function s(D){return x()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:n.handleSubmit(D);case 1:case"end":return b.stop()}},s)}));return function(s){return r.apply(this,arguments)}}(),children:[(0,e.jsx)(F.Z.Group,{name:"auto_collect",label:this.props.intl.formatMessage({id:"plugin.collector.auto-collect"}),options:[{label:this.props.intl.formatMessage({id:"plugin.collector.auto-collect.no"}),value:!1},{label:this.props.intl.formatMessage({id:"plugin.collector.auto-collect.yes"}),value:!0}]}),(0,e.jsx)(F.Z.Group,{name:"language",label:this.props.intl.formatMessage({id:"plugin.collector.language"}),options:[{label:this.props.intl.formatMessage({id:"content.translate.zh-cn"}),value:"zh-CN"},{label:this.props.intl.formatMessage({id:"content.translate.en"}),value:"en"}]}),(0,e.jsx)(F.Z.Group,{name:"collect_mode",label:this.props.intl.formatMessage({id:"plugin.collector.mode"}),options:[{label:this.props.intl.formatMessage({id:"plugin.collector.mode.article"}),value:0},{label:this.props.intl.formatMessage({id:"plugin.collector.mode.ask"}),value:1}],fieldProps:{onChange:function(s){n.setCollectMode(s.target.value)}},extra:(0,e.jsx)("div",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.mode.description"})})}),k===0&&(0,e.jsx)(y.Z,{name:"from_website",label:this.props.intl.formatMessage({id:"plugin.collector.source"}),placeholder:"\u5982\uFF1Ahttps://cn.bing.com/search?q=%s",extra:(0,e.jsx)("div",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.source.description"})})}),(0,e.jsx)(Y.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.default-category"}),name:"category_ids",mode:"multiple",required:!0,extra:(0,e.jsxs)("div",{children:[(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.category.description"}),(0,e.jsx)("span",{className:"text-red",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.category.notice"})})]}),request:S()(x()().mark(function r(){var s;return x()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,ve.CP)({type:1});case 2:return s=I.sent,I.abrupt("return",s.data||[]);case 4:case"end":return I.stop()}},r)})),fieldProps:{fieldNames:{label:"title",value:"id"},optionItemRender:function(s){return(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:s.spacer+s.title}})}}}),(0,e.jsx)(F.Z.Group,{name:["proxy_config","open"],label:this.props.intl.formatMessage({id:"plugin.collector.proxy_config.name"}),options:[{label:this.props.intl.formatMessage({id:"plugin.collector.proxy_config.close"}),value:!1},{label:this.props.intl.formatMessage({id:"plugin.collector.proxy_config.open"}),value:!0}],fieldProps:{onChange:function(s){n.setproxyOpen(s.target.value)}}}),Se&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F.Z.Group,{name:["proxy_config","platform"],label:this.props.intl.formatMessage({id:"plugin.collector.proxy_config.platform"}),readonly:!0,fieldProps:{value:"juliangip"},options:[{label:this.props.intl.formatMessage({id:"plugin.collector.proxy_config.platform.juliang"}),value:"juliangip"}],extra:(0,e.jsxs)("div",{children:[this.props.intl.formatMessage({id:"plugin.collector.proxy_config.platform.description"}),(0,e.jsx)("a",{href:"https://www.juliangip.com/user/reg?inviteCode=1043204",target:"_blank",rel:"noreferrer",children:"https://www.juliangip.com/user/reg?inviteCode=1043204"})]})}),(0,e.jsx)(y.Z,{name:["proxy_config","api_url"],label:this.props.intl.formatMessage({id:"plugin.collector.proxy_config.api_url"}),extra:(0,e.jsx)("div",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.proxy_config.api_url.description"})})}),(0,e.jsxs)(Q.A.Group,{children:[(0,e.jsx)(P.Z,{name:["proxy_config","concurrent"],label:this.props.intl.formatMessage({id:"plugin.collector.concurrent"}),placeholder:this.props.intl.formatMessage({id:"plugin.collector.concurrent.placeholder"}),extra:this.props.intl.formatMessage({id:"plugin.collector.concurrent.description"})}),(0,e.jsx)(P.Z,{name:["proxy_config","expire"],label:this.props.intl.formatMessage({id:"plugin.collector.expire"}),addonAfter:this.props.intl.formatMessage({id:"plugin.collector.expire.addon"}),placeholder:this.props.intl.formatMessage({id:"plugin.collector.expire.placeholder"}),extra:this.props.intl.formatMessage({id:"plugin.collector.expire.description"})})]})]}),(0,e.jsx)(F.Z.Group,{name:"save_type",label:this.props.intl.formatMessage({id:"plugin.aigenerate.save-type"}),options:[{label:this.props.intl.formatMessage({id:"plugin.aigenerate.save-type.draft"}),value:0},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.save-type.release"}),value:1}]}),(0,e.jsx)(P.Z,{name:"title_min_length",label:this.props.intl.formatMessage({id:"plugin.collector.min-title"}),placeholder:this.props.intl.formatMessage({id:"plugin.collector.min-title.placeholder"}),extra:this.props.intl.formatMessage({id:"plugin.collector.min-title.description"})}),(0,e.jsx)(P.Z,{name:"content_min_length",label:this.props.intl.formatMessage({id:"plugin.collector.min-content"}),placeholder:this.props.intl.formatMessage({id:"plugin.collector.min-content.placeholder"}),extra:this.props.intl.formatMessage({id:"plugin.collector.min-content.description"})}),(0,e.jsx)(F.Z.Group,{name:"auto_pseudo",label:this.props.intl.formatMessage({id:"plugin.collector.pseudo"}),options:[{label:this.props.intl.formatMessage({id:"plugin.collector.pseudo.no"}),value:!1},{label:this.props.intl.formatMessage({id:"plugin.collector.pseudo.yes"}),value:!0}],extra:this.props.intl.formatMessage({id:"plugin.collector.pseudo.description"})}),(0,e.jsx)(F.Z.Group,{name:"auto_translate",label:this.props.intl.formatMessage({id:"plugin.collector.translate"}),options:[{label:this.props.intl.formatMessage({id:"plugin.collector.translate.no"}),value:!1},{label:this.props.intl.formatMessage({id:"plugin.collector.translate.yes"}),value:!0}],extra:this.props.intl.formatMessage({id:"plugin.collector.translate.description"})}),(0,e.jsx)(Y.Z,{label:this.props.intl.formatMessage({id:"plugin.collector.to-language"}),name:"to_language",extra:this.props.intl.formatMessage({id:"plugin.collector.to-language.description"}),options:je.vI.map(function(r){return{label:r.label,value:r.value}})}),(0,e.jsxs)(Q.A.Group,{children:[(0,e.jsx)(P.Z,{name:"start_hour",label:this.props.intl.formatMessage({id:"plugin.aigenerate.start-time"}),placeholder:this.props.intl.formatMessage({id:"plugin.aigenerate.start-time.placeholder"}),extra:this.props.intl.formatMessage({id:"plugin.aigenerate.start-time.description"})}),(0,e.jsx)(P.Z,{name:"end_hour",label:this.props.intl.formatMessage({id:"plugin.aigenerate.end-time"}),placeholder:this.props.intl.formatMessage({id:"plugin.aigenerate.end-time.placeholder"}),extra:this.props.intl.formatMessage({id:"plugin.aigenerate.end-time.description"})}),(0,e.jsx)(P.Z,{name:"daily_limit",label:this.props.intl.formatMessage({id:"plugin.collector.daily-limit"}),extra:this.props.intl.formatMessage({id:"plugin.collector.daily-limit.description"})})]}),(0,e.jsx)(F.Z.Group,{name:"insert_image",label:this.props.intl.formatMessage({id:"plugin.collector.insert-image"}),options:[{label:this.props.intl.formatMessage({id:"plugin.collector.insert-image.remove"}),value:0},{label:this.props.intl.formatMessage({id:"plugin.collector.insert-image.contain"}),value:1},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image.diy"}),value:2},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image.category"}),value:3}],fieldProps:{onChange:function(s){n.onChangeInsertImage(s)}}}),T===2&&(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image.list"}),children:(0,e.jsx)("div",{className:"insert-image",children:(0,e.jsxs)(Ce.Z,{gutter:[16,16],className:"image-list",children:[(v=f.images)===null||v===void 0?void 0:v.map(function(r,s){return(0,e.jsx)(W.Z,{span:4,children:(0,e.jsx)("div",{className:"image-item",children:(0,e.jsx)("div",{className:"inner",children:(0,e.jsxs)("div",{className:"link",children:[(0,e.jsx)(Ze.Z,{className:"img",preview:!0,src:r}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"images",s),children:(0,e.jsx)(l.FormattedMessage,{id:"setting.system.delete"})})]})})})},s)}),(0,e.jsx)(W.Z,{span:4,children:(0,e.jsx)("div",{className:"image-item",children:(0,e.jsx)("div",{className:"inner",children:(0,e.jsx)("div",{className:"link",children:(0,e.jsx)(fe.Z,{onSelect:this.handleSelectLogo,open:!1,multiple:!0,children:(0,e.jsx)("div",{className:"ant-upload-item",children:(0,e.jsxs)("div",{className:"add",children:[(0,e.jsx)(Me.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:(0,e.jsx)(l.FormattedMessage,{id:"setting.system.upload"})})]})})})})})})})]})})}),T===3&&(0,e.jsx)(Y.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.image.category"}),name:"image_category_id",required:!0,extra:this.props.intl.formatMessage({id:"plugin.aigenerate.image.category.description"}),request:S()(x()().mark(function r(){var s,D;return x()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,G.Nre)();case 2:return s=b.sent,D=(s.data||[]).concat({id:0,title:n.props.intl.formatMessage({id:"plugin.aigenerate.image.category.default"})},{id:-1,title:n.props.intl.formatMessage({id:"plugin.aigenerate.image.category.all"})},{id:-2,title:n.props.intl.formatMessage({id:"plugin.aigenerate.image.category.match"})}),b.abrupt("return",D);case 5:case"end":return b.stop()}},r)})),fieldProps:{fieldNames:{label:"title",value:"id"}}}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.collector.title-exclude"}),fieldProps:{value:Z.title_exclude||"",onChange:this.handleChangeTmpInput.bind(this,"title_exclude"),onPressEnter:this.handleAddField.bind(this,"title_exclude"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"title_exclude"),children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-muted",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.title-exclude.tips"})}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(N.Z,{size:[12,12],wrap:!0,children:(p=f.title_exclude)===null||p===void 0?void 0:p.map(function(r,s){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:r}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"title_exclude",s),children:"\xD7"})]},s)})})})]})}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.collector.title-prefix"}),fieldProps:{value:Z.title_exclude_prefix||"",onChange:this.handleChangeTmpInput.bind(this,"title_exclude_prefix"),onPressEnter:this.handleAddField.bind(this,"title_exclude_prefix"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"title_exclude_prefix"),children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-muted",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.title-prefix.tips"})}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(N.Z,{size:[12,12],wrap:!0,children:(i=f.title_exclude_prefix)===null||i===void 0?void 0:i.map(function(r,s){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:r}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"title_exclude_prefix",s),children:"\xD7"})]},s)})})})]})}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.collector.title-suffix"}),fieldProps:{value:Z.title_exclude_suffix||"",onChange:this.handleChangeTmpInput.bind(this,"title_exclude_suffix"),onPressEnter:this.handleAddField.bind(this,"title_exclude_suffix"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"title_exclude_suffix"),children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-muted",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.title-suffix.tips"})}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(N.Z,{size:[12,12],wrap:!0,children:(g=f.title_exclude_suffix)===null||g===void 0?void 0:g.map(function(r,s){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:r}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"title_exclude_suffix",s),children:"\xD7"})]},s)})})})]})}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.collector.content-exclude-line"}),fieldProps:{value:Z.content_exclude_line||"",onChange:this.handleChangeTmpInput.bind(this,"content_exclude_line"),onPressEnter:this.handleAddField.bind(this,"content_exclude_line"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"content_exclude_line"),children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-muted",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.content-exclude-line.tips"})}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(N.Z,{size:[12,12],wrap:!0,children:(o=f.content_exclude_line)===null||o===void 0?void 0:o.map(function(r,s){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:r}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"content_exclude_line",s),children:"\xD7"})]},s)})})})]})}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.collector.link-exclude"}),fieldProps:{value:Z.link_exclude||"",onChange:this.handleChangeTmpInput.bind(this,"link_exclude"),onPressEnter:this.handleAddField.bind(this,"link_exclude"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"link_exclude"),children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-muted",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.link-exclude.tips"})}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(N.Z,{size:[12,12],wrap:!0,children:(u=f.link_exclude)===null||u===void 0?void 0:u.map(function(r,s){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:r}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"link_exclude",s),children:"\xD7"})]},s)})})})]})}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.collector.content-exclude"}),fieldProps:{value:Z.content_exclude||"",onChange:this.handleChangeTmpInput.bind(this,"content_exclude"),onPressEnter:this.handleAddField.bind(this,"content_exclude"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"content_exclude"),children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-muted",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.content-exclude.tips"})}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(N.Z,{size:[12,12],wrap:!0,children:(d=f.content_exclude)===null||d===void 0?void 0:d.map(function(r,s){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:r}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"content_exclude",s),children:"\xD7"})]},s)})})})]})}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.replace"}),extra:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"text-muted",children:[(0,e.jsx)("p",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.tips1"})}),(0,e.jsx)("p",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.tips2"})}),(0,e.jsx)("p",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.tips3"})}),(0,e.jsxs)("p",{children:[(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rules"}),(0,e.jsx)(A.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rule.email"})}),"\u3001",(0,e.jsx)(A.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rule.date"})}),"\u3001",(0,e.jsx)(A.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rule.time"})}),"\u3001",(0,e.jsx)(A.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rule.cellphone"})}),"\u3001",(0,e.jsx)(A.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rule.qq"})}),"\u3001",(0,e.jsx)(A.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rule.wechat"})}),"\u3001",(0,e.jsx)(A.Z,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.rule.website"})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-red",children:"*"})," ",(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.notice"})]})]}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(N.Z,{size:[12,12],wrap:!0,children:(c=f.content_replace)===null||c===void 0?void 0:c.map(function(r,s){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:r.from}),(0,e.jsx)("span",{className:"divide",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.to"})}),(0,e.jsx)("span",{className:"value",children:r.to||n.props.intl.formatMessage({id:"plugin.aigenerate.empty"})}),(0,e.jsx)("span",{className:"close",onClick:n.handleRemove.bind(n,"content_replace",s),children:"\xD7"})]},s)})})})]}),children:(0,e.jsxs)(H.Z.Group,{compact:!0,children:[(0,e.jsx)(H.Z,{style:{width:"40%"},value:Z.from||"",onChange:this.handleChangeTmpInput.bind(this,"from"),onPressEnter:this.handleAddField.bind(this,"content_replace")}),(0,e.jsx)("span",{className:"input-divide",children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.replace.to"})}),(0,e.jsx)(H.Z,{style:{width:"50%"},value:Z.to||"",onChange:this.handleChangeTmpInput.bind(this,"to"),onPressEnter:this.handleAddField.bind(this,"content_replace"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"content_replace"),children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})})]})})]})]})}}]),R}(E.Component),Fe=(0,l.injectIntl)(be),Ne=function(){var $=(0,E.useRef)(),R=(0,E.useState)(!1),a=q()(R,2),n=a[0],v=a[1],p=(0,l.useIntl)(),i=function(){ie.Z.confirm({title:p.formatMessage({id:"plugin.collector.start.confirm"}),content:p.formatMessage({id:"plugin.aigenerate.start.description"}),onOk:function(){var d=S()(x()().mark(function h(){var m;return x()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:m=O.ZP.loading(p.formatMessage({id:"setting.system.submitting"}),0),(0,G.BEi)().then(function(Z){var T,k;O.ZP.success(Z.msg),(T=$.current)===null||T===void 0||(k=T.reloadAndRest)===null||k===void 0||k.call(T)}).finally(function(){m()});case 2:case"end":return f.stop()}},h)}));function c(){return d.apply(this,arguments)}return c}()})},g=function(){var u=S()(x()().mark(function d(c){return x()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:l.history.push("/archive/detail?id="+c.id);case 1:case"end":return m.stop()}},d)}));return function(c){return u.apply(this,arguments)}}(),o=[{title:"ID",dataIndex:"id",hideInSearch:!0},{title:p.formatMessage({id:"content.title.name"}),dataIndex:"title",hideInSearch:!0,render:function(d,c){return(0,e.jsx)("div",{style:{maxWidth:400},children:(0,e.jsx)("a",{href:c.link,target:"_blank",children:d})})}},{title:"thumb",dataIndex:"thumb",hideInSearch:!0,width:70,render:function(d,c){return d?(0,e.jsx)("img",{src:c.thumb,className:"list-thumb"}):null}},{title:p.formatMessage({id:"content.module.name"}),dataIndex:"module_name",hideInSearch:!0},{title:p.formatMessage({id:"website.status"}),dataIndex:"status",hideInSearch:!0,valueEnum:{0:{text:p.formatMessage({id:"content.status.draft"}),status:"Default"},1:{text:p.formatMessage({id:"content.status.normal"}),status:"Success"},2:{text:p.formatMessage({id:"content.status.plan"}),status:"Warning"}}},{title:p.formatMessage({id:"content.create-update-time"}),hideInSearch:!0,dataIndex:"created_time",render:function(d,c){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:L()(c.created_time*1e3).format("YYYY-MM-DD HH:mm")}),(0,e.jsx)("div",{children:L()(c.updated_time*1e3).format("YYYY-MM-DD HH:mm")})]})}},{title:p.formatMessage({id:"setting.action"}),dataIndex:"option",valueType:"option",render:function(d,c){return(0,e.jsx)(N.Z,{size:20,children:(0,e.jsx)("a",{onClick:S()(x()().mark(function h(){return x()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:g(c);case 1:case"end":return C.stop()}},h)})),children:(0,e.jsx)(l.FormattedMessage,{id:"setting.action.edit"})},"delete")})}}];return(0,e.jsxs)(ee._z,{children:[(0,e.jsxs)(se.Z,{children:[(0,e.jsx)(le.Z,{message:(0,e.jsx)("div",{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.tips"})})}),(0,e.jsx)(te.Z,{actionRef:$,rowKey:"id",search:!1,toolBarRender:function(){return[(0,e.jsx)(Fe,{onCancel:function(){},children:(0,e.jsx)(z.ZP,{children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.setting"})})},"setting"),(0,e.jsx)(z.ZP,{onClick:function(){i()},children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.start"})},"keywords"),(0,e.jsx)(z.ZP,{onClick:function(){l.history.push("/plugin/keyword")},children:(0,e.jsx)(l.FormattedMessage,{id:"menu.plugin.keyword"})},"keywords"),(0,e.jsx)(z.ZP,{onClick:function(){v(!0)},children:(0,e.jsx)(l.FormattedMessage,{id:"plugin.collector.replace"})},"replace")]},request:function(d){return d.collect=!0,(0,G.Lig)(d)},columnsState:{persistenceKey:"archive-collect-table",persistenceType:"localStorage"},columns:o,pagination:{showSizeChanger:!0}})]}),(0,e.jsx)(_.Z,{open:n,onCancel:function(){v(!1)}})]})},Ie=Ne}}]);
