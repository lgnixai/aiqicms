"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[883],{56534:function(G,Z,e){var a=e(18201),o=e(66342),D=e(59831),m=e(37697),F=e(75271),O=e(73428),v=e(31945),M=e(52676),B=["options","fieldProps","proFieldProps","valueEnum"],p=F.forwardRef(function(t,h){var g=t.options,y=t.fieldProps,c=t.proFieldProps,U=t.valueEnum,i=(0,o.Z)(t,B);return(0,M.jsx)(v.Z,(0,a.Z)({ref:h,valueType:"checkbox",valueEnum:(0,D.h)(U,void 0),fieldProps:(0,a.Z)({options:g},y),lightProps:(0,a.Z)({labelFormatter:function(){return(0,M.jsx)(v.Z,(0,a.Z)({ref:h,valueType:"checkbox",mode:"read",valueEnum:(0,D.h)(U,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:g},y),proFieldProps:c},i))}},i.lightProps),proFieldProps:c},i))}),R=F.forwardRef(function(t,h){var g=t.fieldProps,y=t.children;return(0,M.jsx)(m.Z,(0,a.Z)((0,a.Z)({ref:h},g),{},{children:y}))}),T=(0,O.G)(R,{valuePropName:"checked"}),A=T;A.Group=p,Z.Z=A},71384:function(G,Z,e){var a=e(18201),o=e(66342),D=e(75271),m=e(31945),F=e(52676),O=["fieldProps","min","proFieldProps","max"],v=function(p,R){var T=p.fieldProps,A=p.min,t=p.proFieldProps,h=p.max,g=(0,o.Z)(p,O);return(0,F.jsx)(m.Z,(0,a.Z)({valueType:"digit",fieldProps:(0,a.Z)({min:A,max:h},T),ref:R,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:t},g))},M=D.forwardRef(v);Z.Z=M},55034:function(G,Z,e){e.r(Z),e.d(Z,{default:function(){return V}});var a=e(90228),o=e.n(a),D=e(87999),m=e.n(D),F=e(48305),O=e.n(F),v=e(75304),M=e(96570),B=e(18640),p=e(54203),R=e(34206),T=e(53745),A=e(47634),t=e(75271),h=e(35937),g=e(96640),y=e(66857),c=e(71384),U=e(56534),i=e(32064),b=e(9921),r=e(52676),$=function(s){var W,n=(0,i.useIntl)(),L=function(){var I=m()(o()().mark(function l(E){var S,d;return o()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return S=Object.assign(s.group,E),P.next=3,(0,v.dZ9)(S);case 3:d=P.sent,R.ZP.info(d.msg),s.onSubmit();case 6:case"end":return P.stop()}},l)}));return function(E){return I.apply(this,arguments)}}();return(0,r.jsxs)(h.Y,{width:600,title:(W=s.group)!==null&&W!==void 0&&W.id?n.formatMessage({id:"plugin.group.edit"}):n.formatMessage({id:"plugin.group.add"}),initialValues:s.group,open:s.open,layout:"horizontal",onOpenChange:function(l){l||s.onCancel(l)},onFinish:function(){var I=m()(o()().mark(function l(E){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:L(E);case 1:case"end":return d.stop()}},l)}));return function(l){return I.apply(this,arguments)}}(),children:[(0,r.jsx)(g.Z,{name:"title",label:n.formatMessage({id:"plugin.group.name"})}),(0,r.jsx)(y.Z,{name:"description",label:n.formatMessage({id:"plugin.group.description"})}),(0,r.jsx)(c.Z,{name:"level",label:n.formatMessage({id:"plugin.group.level"}),width:"sm",fieldProps:{precision:0,addonAfter:n.formatMessage({id:"plugin.group.level.suffix"})},extra:n.formatMessage({id:"plugin.group.level.description"})}),(0,r.jsx)(c.Z,{name:"price",label:n.formatMessage({id:"plugin.group.price"}),width:"sm",fieldProps:{precision:0,addonAfter:n.formatMessage({id:"plugin.group.price.suffix"})},extra:n.formatMessage({id:"plugin.group.price.description"})}),(0,r.jsx)(c.Z,{name:["setting","expire_day"],label:n.formatMessage({id:"plugin.group.expire_day"}),width:"sm",fieldProps:{precision:0,addonAfter:n.formatMessage({id:"plugin.group.expire_day.suffix"})},extra:n.formatMessage({id:"plugin.group.expire_day.description"})}),(0,r.jsx)(g.Z,{label:n.formatMessage({id:"plugin.group.content_safe"}),children:(0,r.jsxs)(T.Z,{children:[(0,r.jsx)(U.Z,{name:["setting","content_no_verify"],children:(0,r.jsx)(i.FormattedMessage,{id:"plugin.group.content_safe.no-verify"})}),(0,r.jsx)(U.Z,{name:["setting","content_no_captcha"],children:(0,r.jsx)(i.FormattedMessage,{id:"plugin.group.content_safe.no-captcha"})})]})}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(i.FormattedMessage,{id:"plugin.group.permission"})}),(0,r.jsx)(c.Z,{name:["setting","share_reward"],label:n.formatMessage({id:"plugin.group.share_reward"}),width:"sm",fieldProps:{precision:0,addonAfter:"%"},extra:n.formatMessage({id:"plugin.group.share_reward.description"})}),(0,r.jsx)(c.Z,{name:["setting","parent_reward"],label:n.formatMessage({id:"plugin.group.parent_reward"}),width:"sm",fieldProps:{precision:0,addonAfter:"%"},extra:n.formatMessage({id:"plugin.group.parent_reward.description"})}),(0,r.jsx)(c.Z,{name:["setting","discount"],label:n.formatMessage({id:"plugin.group.discount"}),width:"sm",fieldProps:{precision:0,addonAfter:"%"},extra:n.formatMessage({id:"plugin.group.discount.description"})})]})},z=$,w=function(){var s=(0,t.useRef)(),W=(0,t.useState)({}),n=O()(W,2),L=n[0],I=n[1],l=(0,t.useState)(!1),E=O()(l,2),S=E[0],d=E[1],j=(0,i.useIntl)(),P=function(){var x=m()(o()().mark(function f(u){return o()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:I(u),d(!0);case 2:case"end":return C.stop()}},f)}));return function(u){return x.apply(this,arguments)}}(),N=function(f){p.Z.confirm({title:j.formatMessage({id:"plugin.group.delete.confirm"}),onOk:function(){(0,v.jEc)(f).then(function(K){var C;R.ZP.info(K.msg),(C=s.current)===null||C===void 0||C.reload()})}})},Y=[{title:"ID",dataIndex:"id"},{title:j.formatMessage({id:"plugin.group.name"}),dataIndex:"title"},{title:j.formatMessage({id:"plugin.group.description"}),dataIndex:"description"},{title:j.formatMessage({id:"plugin.group.level"}),dataIndex:"level"},{title:j.formatMessage({id:"setting.action"}),dataIndex:"option",valueType:"option",render:function(f,u){return(0,r.jsxs)(T.Z,{size:20,children:[(0,r.jsx)("a",{onClick:function(){P(u)},children:(0,r.jsx)(i.FormattedMessage,{id:"setting.action.edit"})},"edit"),(0,r.jsx)("a",{onClick:function(){N(u)},children:(0,r.jsx)(i.FormattedMessage,{id:"setting.system.delete"})})]})}}];return(0,r.jsxs)(M._z,{children:[(0,r.jsx)(B.Z,{headerTitle:j.formatMessage({id:"menu.plugin.group"}),actionRef:s,rowKey:"id",search:!1,toolBarRender:function(){return[(0,r.jsx)(A.ZP,{type:"primary",onClick:function(){return P({})},children:(0,r.jsx)(i.FormattedMessage,{id:"plugin.group.add"})},"add")]},tableAlertOptionRender:!1,request:function(f){return(0,v.jWl)(f)},columnsState:{persistenceKey:"user-group-table",persistenceType:"localStorage"},columns:Y,rowSelection:!1,pagination:{showSizeChanger:!0}}),S&&(0,r.jsx)(z,{open:S,group:L,onCancel:function(){d(!1)},onSubmit:m()(o()().mark(function x(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:d(!1),s.current&&s.current.reload();case 2:case"end":return u.stop()}},x)}))})]})},V=w}}]);
