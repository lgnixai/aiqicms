"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[1694],{56534:function(Y,B,n){var D=n(18201),c=n(66342),W=n(59831),f=n(37697),A=n(75271),T=n(73428),I=n(31945),x=n(52676),U=["options","fieldProps","proFieldProps","valueEnum"],_=A.forwardRef(function(p,j){var O=p.options,K=p.fieldProps,R=p.proFieldProps,M=p.valueEnum,S=(0,c.Z)(p,U);return(0,x.jsx)(I.Z,(0,D.Z)({ref:j,valueType:"checkbox",valueEnum:(0,W.h)(M,void 0),fieldProps:(0,D.Z)({options:O},K),lightProps:(0,D.Z)({labelFormatter:function(){return(0,x.jsx)(I.Z,(0,D.Z)({ref:j,valueType:"checkbox",mode:"read",valueEnum:(0,W.h)(M,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,D.Z)({options:O},K),proFieldProps:R},S))}},S.lightProps),proFieldProps:R},S))}),$=A.forwardRef(function(p,j){var O=p.fieldProps,K=p.children;return(0,x.jsx)(f.Z,(0,D.Z)((0,D.Z)({ref:j},O),{},{children:K}))}),L=(0,T.G)($,{valuePropName:"checked"}),E=L;E.Group=_,B.Z=E},71384:function(Y,B,n){var D=n(18201),c=n(66342),W=n(75271),f=n(31945),A=n(52676),T=["fieldProps","min","proFieldProps","max"],I=function(_,$){var L=_.fieldProps,E=_.min,p=_.proFieldProps,j=_.max,O=(0,c.Z)(_,T);return(0,A.jsx)(f.Z,(0,D.Z)({valueType:"digit",fieldProps:(0,D.Z)({min:E,max:j},L),ref:$,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:p},O))},x=W.forwardRef(I);B.Z=x},85606:function(Y,B,n){var D=n(48305),c=n.n(D),W=n(75304),f=n(22683),A=n(96570),T=n(75271),I=n(52676),x=function(_){var $=(0,T.useState)(void 0),L=c()($,2),E=L[0],p=L[1],j=(0,T.useState)(""),O=c()(j,2),K=O[0],R=O[1],M=function(){(0,W.roP)({type:"multi"}).then(function(b){var P=(b.data||[]).map(function(C){return{key:C.id,tab:C.name,is_main:C.is_main}});p(P);var v=(0,f.KJ)("sub-site-id");!v&&P.length>0&&(v=P[0].key+"");var y=P.find(function(C){return C.key===Number(v)}),u=!1;y&&(u=!0,y.is_main&&(u=!1)),(0,f.Xq)("is-sub-site",u),R(v)})};(0,T.useEffect)(function(){M()},[]);var S=function(b){var P;R(b),(0,f.Xq)("sub-site-id",b);var v=E.find(function(u){return u.key===Number(b)}),y=!0;v.is_main&&(y=!1),(0,f.Xq)("is-sub-site",y),(P=_.onTabChange)===null||P===void 0||P.call(_,b,y)};return(0,I.jsx)(A._z,{tabList:E,tabActiveKey:K,onTabChange:S,title:_.title,children:_.children})};B.Z=x},17361:function(Y,B,n){var D=n(48305),c=n.n(D),W=n(54203),f=n(75271),A=n(99944),T=n(76979),I=n(52676),x=function(_){var $=(0,f.useState)(!1),L=c()($,2),E=L[0],p=L[1],j=(0,f.useState)([]),O=c()(j,2),K=O[0],R=O[1],M=function(P){if(_.manual){var v;(v=_.onCancel)===null||v===void 0||v.call(_,P)}else p(P)},S=function(P){_.multiple?R(P):(_.onSelect(P),M(!1))},k=function(){_.multiple&&_.onSelect(K),M(!1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{display:"inline-block"},onClick:function(){M(!E)},children:_.children}),(0,I.jsx)(W.Z,{className:"material-modal",width:800,open:_.manual?_.open:E,onCancel:function(){M(!1)},onOk:function(){k()},children:(0,I.jsx)(A.Z,{multiple:_.multiple,onSelect:function(P){S(P)}})})]})};B.Z=x},19830:function(Y,B,n){n.d(B,{Z:function(){return $}});var D=n(82092),c=n.n(D),W=n(48305),f=n.n(W),A=n(75271),T=n(82187),I=n.n(T),x=n(27806),U=n(52676),_=function(E){var p=(0,A.useState)(!1),j=f()(p,2),O=j[0],K=j[1];(0,A.useEffect)(function(){K(E.open||!1)},[]);var R=function(){K(!O)},M=I()(c()(c()({},"collaspe-item",!0),"collaspe-item-active",O),E.className);return(0,U.jsxs)("div",{className:M,style:E.style,children:[(0,U.jsxs)("div",{className:"collaspe-header",onClick:R,children:[E.showArrow&&(0,U.jsx)(x.Z,{className:"collaspe-icon"}),(0,U.jsx)("div",{className:"collaspe-header-text",children:E.header}),E.extra&&(0,U.jsx)("div",{className:"collaspe-extra",children:E.extra})]}),(0,U.jsx)("div",{className:"collaspe-content",children:E.children})]})},$=_},60983:function(Y,B,n){n.d(B,{Z:function(){return M}});var D=n(90228),c=n.n(D),W=n(87999),f=n.n(W),A=n(75304),T=n(92204),I=n(75308),x=n(14076),U=n(37912),_=n(34206),$=n(5729),L=n(52577),E=n(75271),p=n(39651),j=n(52676);function O(){return{actions:[{title:"\u5A92\u4F53\u5E93",icon:'<svg t="1695784255158" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4033" width="16" height="16"><path d="M416 266.538667m-96 0a96 96 0 1 0 192 0 96 96 0 1 0-192 0Z" p-id="4034" fill="#010000"></path><path d="M721.749333 371.626667A43.818667 43.818667 0 0 0 682.666667 348.074667a42.965333 42.965333 0 0 0-38.058667 25.002666l-66.474667 146.517334a10.624 10.624 0 0 1-18.005333 2.261333l-34.986667-43.690667a42.666667 42.666667 0 0 0-34.688-16.042666 42.965333 42.965333 0 0 0-33.578666 18.176L323.84 670.293333a21.333333 21.333333 0 0 0 17.493333 33.706667h512a21.333333 21.333333 0 0 0 18.133334-10.112 21.333333 21.333333 0 0 0 0.938666-20.736z" p-id="4035" fill="#010000"></path><path d="M938.666667 0H234.666667a85.333333 85.333333 0 0 0-85.333334 85.333333v704a85.333333 85.333333 0 0 0 85.333334 85.333334H938.666667a85.333333 85.333333 0 0 0 85.333333-85.333334V85.333333a85.333333 85.333333 0 0 0-85.333333-85.333333z m-6.186667 783.104a21.333333 21.333333 0 0 1-15.104 6.229333H256a21.333333 21.333333 0 0 1-21.333333-21.333333V106.666667A21.333333 21.333333 0 0 1 256 85.333333h661.333333a21.333333 21.333333 0 0 1 21.333334 21.333334V768a21.333333 21.333333 0 0 1-6.186667 14.976z" p-id="4036" fill="#010000"></path><path d="M832 938.666667h-725.333333a21.333333 21.333333 0 0 1-21.333334-21.333334v-725.333333a42.666667 42.666667 0 0 0-85.333333 0V938.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h746.666667a42.666667 42.666667 0 0 0 0-85.333333z" p-id="4037" fill="#010000"></path></svg>',handler:{type:"action",click:function(k){var b=k.appendBlock,P=k.editor,v=function(u){return u.is_image||u.file_location.indexOf(".webp")!==-1||u.file_location.indexOf(".bmp")!==-1||u.file_location.indexOf(".png")!==-1||u.file_location.indexOf(".gif")!==-1||u.file_location.indexOf(".jpg")!==-1||u.file_location.indexOf(".jpeg")!==-1||u.file_location.indexOf(".svg")!==-1?"![".concat(u.file_name,"](").concat(u.logo,")"):u.file_location.indexOf(".mp4")!==-1||u.file_location.indexOf(".ogg")!==-1||u.file_location.indexOf(".webm")!==-1?'<video controls="controls" controlslist="nodownload" poster=""><source src="'.concat(u.logo,'" type="video/').concat(u.file_location.substr(u.file_location.lastIndexOf(".")+1),'">\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 video \u6807\u7B7E\u3002</video>'):u.file_location.indexOf(".mp3")!==-1||u.file_location.indexOf(".wav")!==-1?'<audio src="'.concat(u.logo,'" controls="controls"><source src="').concat(u.logo,'" type="audio/').concat(u.file_location.substr(u.file_location.lastIndexOf(".")+1),'">\u4F60\u7684\u7F16\u8F91\u5668\u4E0D\u652F\u6301 audio \u6807\u7B7E</audio>'):"[".concat(u.file_name,"](").concat(u.logo,")")};p.Z.show(!0).then(function(y){var u=[];for(var C in y)y.hasOwnProperty(C)&&u.push(v(y[C]));b(u.join(`
`)),P.focus()}),P.focus()}}}]}}var K=[(0,T.Z)(),(0,I.Z)(),(0,x.Z)(),O()],R=(0,E.forwardRef)(function(S,k){function b(){}(0,E.useImperativeHandle)(k,function(){return{setInnerContent:b}});var P=function(){var v=f()(c()().mark(function y(u){var C,q,G,Q,J;return c()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:C=[],q=_.ZP.loading("\u63D2\u5165\u4E2D...",0),N.t0=c()().keys(u);case 3:if((N.t1=N.t0()).done){N.next=14;break}if(G=N.t1.value,!u.hasOwnProperty(G)){N.next=12;break}return Q=new FormData,Q.append("file",u[G]),N.next=10,(0,A.pD2)(Q);case 10:J=N.sent,J.code!==0?_.ZP.info(J.msg):C.push({url:J.data.logo});case 12:N.next=3;break;case 14:return q(),N.abrupt("return",C);case 16:case"end":return N.stop()}},y)}));return function(u){return v.apply(this,arguments)}}();return(0,j.jsx)("div",{className:"editor-container "+S.className,style:{border:"1px solid #ccc",marginTop:"10px"},children:(0,j.jsx)(U.M,{value:S.content,plugins:K,locale:L,onChange:function(y){S.setContent(y)},uploadImages:P})})}),M=R},12926:function(Y,B,n){n.r(B);var D=n(90228),c=n.n(D),W=n(87999),f=n.n(W),A=n(335),T=n.n(A),I=n(48305),x=n.n(I),U=n(85606),_=n(17361),$=n(19830),L=n(30141),E=n(60983),p=n(75304),j=n(86743),O=n(16621),K=n(74133),R=n(41265),M=n(96640),S=n(66857),k=n(76334),b=n(71384),P=n(56534),v=n(32064),y=n(34206),u=n(54203),C=n(91827),q=n(59124),G=n(48806),Q=n(43330),J=n(47634),F=n(75271),N=n(32639),e=n(52676),Le=void 0,me=1,Ke=function(){var le,oe,w=(0,F.useRef)(),fe=(0,F.useRef)(null),Be=(0,F.useState)(""),ve=x()(Be,2),ie=ve[0],de=ve[1],We=(0,F.useState)([]),pe=x()(We,2),H=pe[0],ce=pe[1],Fe=(0,F.useState)(""),he=x()(Fe,2),te=he[0],ue=he[1],Ne=(0,F.useState)({category_fields:[]}),ge=x()(Ne,2),ae=ge[0],ke=ge[1],$e=(0,F.useState)({}),Ee=x()($e,2),ee=Ee[0],xe=Ee[1],we=(0,F.useState)({}),Me=x()(we,2),Pe=Me[0],ze=Me[1],Ve=(0,F.useState)(!1),je=x()(Ve,2),Oe=je[0],ye=je[1],Ge=(0,F.useState)({status:1}),Ce=x()(Ge,2),m=Ce[0],ne=Ce[1],He=(0,F.useState)([]),De=x()(He,2),be=De[0],Xe=De[1],Qe=(0,F.useState)(""),Ze=x()(Qe,2),Je=Ze[0],Ye=Ze[1],d=(0,v.useIntl)(),Te=function(s,r){var t=r||be,l=T()(t),o;try{for(l.s();!(o=l.n()).done;){var i=o.value;if(i.id===s)return ke(i),i}}catch(h){l.e(h)}finally{l.f()}},Ie=function(){var a=f()(c()().mark(function s(){var r,t,l,o,i,h,g,z,Z,X,Ue,se,_e;return c()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return r=new URLSearchParams(window.location.search),t=r.get("id")||0,t==="new"&&(t=0),l=Number(r.get("parent_id")||0),V.next=6,(0,p.hUj)();case 6:return o=V.sent,Xe(o.data||[]),V.next=10,(0,p.nNt)({id:t});case 10:if(i=V.sent,h=i.data||{status:1,parent_id:l,extra:{}},typeof h.extra=="undefined"&&(h.extra={}),g=h.module_id||1,!(l>0)){V.next=20;break}return V.next=17,(0,p.nNt)({id:l});case 17:z=V.sent,z.data&&(g=z.data.module_id),h.module_id=g;case 20:Z=Te(g,o.data),X={};for(Ue in Z.category_fields)se=Z.category_fields[Ue],se.type==="editor"&&(X[se.field_name]=((_e=h.extra)===null||_e===void 0?void 0:_e[se.field_name])||"");xe(X),ne(h),de(h.content||""),ce(h.images||[]),ue(h.logo||""),(0,p.Zyq)().then(function(oa){ze(oa.data||{}),ye(!0)});case 29:case"end":return V.stop()}},s)}));return function(){return a.apply(this,arguments)}}(),qe=function(s){ye(!1),Ie().then(function(){Ye(s)})};(0,F.useEffect)(function(){Ie()},[]);var re=function(){var a=f()(c()().mark(function s(r){var t,l,o,i;return c()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(t=Object.assign(m,r),t.content=ie,t.type=me,t.images=H,t.logo=te,t.title!==""){g.next=8;break}return y.ZP.error(d.formatMessage({id:"content.category.input.required"})),g.abrupt("return");case 8:for(l in ee)(o=t.extra)!==null&&o!==void 0&&o[l]||(t.extra[l]=null),t.extra[l]=ee[l];return g.next=11,(0,p._zR)(t);case 11:i=g.sent,i.code===0?(y.ZP.info(i.msg),v.history.back()):i.msg==="token duplication"?u.Z.confirm({content:d.formatMessage({id:"content.url-token.name"})+'"'+t.url_token+'"'+d.formatMessage({id:"content.url-token.dublicate.tips"}),okText:d.formatMessage({id:"content.submit.ok-force"}),okType:"danger",cancelText:d.formatMessage({id:"content.submit.cancel"}),onOk:function(){t.force=!0,re(t)}}):y.ZP.error(i.msg);case 13:case"end":return g.stop()}},s)}));return function(r){return a.apply(this,arguments)}}(),ea=function(s){var r=T()(s),t;try{for(r.s();!(t=r.n()).done;){var l=t.value,o=!1;for(var i in H)if(H[i]===l.logo){o=!0;break}o||H.push(l.logo)}}catch(h){r.e(h)}finally{r.f()}ce([].concat(H)),y.ZP.success(d.formatMessage({id:"setting.system.upload-success"}))},aa=function(s,r){r.stopPropagation(),H.splice(s,1),ce([].concat(H))},na=function(s){ue(s.logo),y.ZP.success(d.formatMessage({id:"setting.system.upload-success"}))},ta=function(s){s.stopPropagation(),ue("")},Re=function(){var a=f()(c()().mark(function s(r,t){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:ee[r]=t,xe(ee);case 2:case"end":return o.stop()}},s)}));return function(r,t){return a.apply(this,arguments)}}(),Se=function(s){var r,t={};t[s]=null,(r=w.current)===null||r===void 0||r.setFieldsValue({extra:t}),delete m.extra[s],ne(m)},Ae=function(s,r){var t,l={};l[s]=r.logo,(t=w.current)===null||t===void 0||t.setFieldsValue({extra:l}),m.extra[s]||(m.extra[s]=null),m.extra[s]=r.logo,ne(m)},ra=function(s,r){var t,l;(t=m.extra[s])===null||t===void 0||t.splice(r,1);var o={};o[s]=m.extra[s],w==null||(l=w.current)===null||l===void 0||l.setFieldsValue({extra:o}),ne(Object.assign({},m))},sa=function(s,r){var t;m.extra[s]||(m.extra[s]=[]);var l=T()(r),o;try{for(l.s();!(o=l.n()).done;){var i=o.value,h=!1;for(var g in m.extra[s])if(m.extra[s][g]===i.logo){h=!0;break}h||m.extra[s].push(i.logo)}}catch(Z){l.e(Z)}finally{l.f()}var z={};z[s]=m.extra[s],w==null||(t=w.current)===null||t===void 0||t.setFieldsValue({extra:z}),ne(Object.assign({},m))},la=function(s){if(s.key==="s"&&(s.ctrlKey||s.metaKey)){var r,t,l=(r=w.current)===null||r===void 0||(t=r.getFieldsFormatValue)===null||t===void 0?void 0:t.call(r);re(l),s.preventDefault()}};return(0,e.jsx)(U.Z,{onTabChange:function(s){return qe(s)},title:m.id>0?d.formatMessage({id:"content.category.edit"}):d.formatMessage({id:"content.category.new"}),children:(0,e.jsx)(C.Z,{onKeyDown:la,children:Oe&&(0,e.jsx)(K.A,{formRef:w,initialValues:m,layout:"horizontal",onFinish:re,children:(0,e.jsxs)(q.Z,{gutter:20,children:[(0,e.jsxs)(G.Z,{sm:18,xs:24,children:[(0,e.jsx)(R.Z,{name:"module_id",label:d.formatMessage({id:"content.module.name"}),width:"lg",request:f()(c()().mark(function a(){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",be);case 1:case"end":return r.stop()}},a)})),readonly:!!(m.id||m.module_id>0),fieldProps:{fieldNames:{label:"name",value:"id"},onChange:function(s){Te(s)}}}),(0,e.jsx)(R.Z,{label:d.formatMessage({id:"content.category.parent"}),name:"parent_id",width:"lg",request:f()(c()().mark(function a(){var s,r,t,l;return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,p.CPB)({type:me});case 2:if(s=i.sent,r=s.data||[],!m.id){i.next=15;break}t=[],i.t0=c()().keys(r);case 7:if((i.t1=i.t0()).done){i.next=14;break}if(l=i.t1.value,!(r[l].id===m.id||r[l].parent_id===m.id||r[l].module_id!==m.module_id)){i.next=11;break}return i.abrupt("continue",7);case 11:t.push(r[l]),i.next=7;break;case 14:r=t;case 15:return r=[{id:0,title:d.formatMessage({id:"content.category.top"}),spacer:""}].concat(r),i.abrupt("return",r);case 17:case"end":return i.stop()}},a)})),readonly:!(m.id||m.module_id>0),fieldProps:{fieldNames:{label:"title",value:"id"},optionItemRender:function(s){return(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:(s.spacer||"")+s.title}})}}}),(0,e.jsx)(M.Z,{name:"title",label:d.formatMessage({id:"content.category.title"})}),(0,e.jsx)(S.Z,{name:"description",label:d.formatMessage({id:"content.category.description"})}),(0,e.jsx)(M.Z,{name:"seo_title",label:d.formatMessage({id:"content.seo-title.name"}),placeholder:d.formatMessage({id:"content.category.seo-title.placeholder"}),extra:d.formatMessage({id:"content.category.seo-title.description"})}),(0,e.jsx)(M.Z,{name:"keywords",label:d.formatMessage({id:"content.keywords.name"}),extra:d.formatMessage({id:"content.keywords.description"})}),(0,e.jsx)(k.Z.Group,{name:"status",label:d.formatMessage({id:"content.category.status"}),options:[{value:0,label:d.formatMessage({id:"content.category.status.hide"})},{value:1,label:d.formatMessage({id:"content.category.status.ok"})}],extra:d.formatMessage({id:"content.category.status.description"})}),ae.category_fields&&(0,e.jsxs)($.Z,{header:d.formatMessage({id:"content.param.extra-fields"}),open:!0,showArrow:!0,children:[(0,e.jsx)(q.Z,{gutter:20,children:(le=ae.category_fields)===null||le===void 0?void 0:le.map(function(a,s){var r;return a.type!=="editor"&&(0,e.jsx)(G.Z,{sm:12,xs:24,children:a.type==="text"?(0,e.jsx)(M.Z,{name:["extra",a.field_name],label:a.name,required:!!a.required,placeholder:a.content&&d.formatMessage({id:"content.param.default"})+a.content}):a.type==="number"?(0,e.jsx)(b.Z,{name:["extra",a.field_name],label:a.name,required:!!a.required,placeholder:a.content&&d.formatMessage({id:"content.param.default"})+a.content}):a.type==="textarea"?(0,e.jsx)(S.Z,{name:["extra",a.field_name],label:a.name,required:!!a.required,placeholder:a.content&&d.formatMessage({id:"content.param.default"})+a.content}):a.type==="radio"?(0,e.jsx)(k.Z.Group,{name:["extra",a.field_name],label:a.name,request:f()(c()().mark(function t(){var l,o,i,h,g;return c()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:l=a.content.split(`
`),o=[],i=T()(l);try{for(i.s();!(h=i.n()).done;)g=h.value,o.push({label:g,value:g})}catch(X){i.e(X)}finally{i.f()}return Z.abrupt("return",o);case 5:case"end":return Z.stop()}},t)}))}):a.type==="checkbox"?(0,e.jsx)(P.Z.Group,{name:["extra",a.field_name],label:a.name,request:f()(c()().mark(function t(){var l,o,i,h,g;return c()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:l=a.content.split(`
`),o=[],i=T()(l);try{for(i.s();!(h=i.n()).done;)g=h.value,o.push({label:g,value:g})}catch(X){i.e(X)}finally{i.f()}return Z.abrupt("return",o);case 5:case"end":return Z.stop()}},t)}))}):a.type==="select"?(0,e.jsx)(R.Z,{name:["extra",a.field_name],label:a.name,request:f()(c()().mark(function t(){var l,o,i,h,g;return c()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:l=a.content.split(`
`),o=[],i=T()(l);try{for(i.s();!(h=i.n()).done;)g=h.value,o.push({label:g,value:g})}catch(X){i.e(X)}finally{i.f()}return Z.abrupt("return",o);case 5:case"end":return Z.stop()}},t)}))}):a.type==="image"?(0,e.jsx)(M.Z,{name:["extra",a.field_name],label:a.name,children:m.extra[a.field_name]?(0,e.jsxs)("div",{className:"ant-upload-item",children:[(0,e.jsx)(Q.Z,{preview:{src:m.extra[a.field_name]},src:m.extra[a.field_name]}),(0,e.jsx)("span",{className:"delete",onClick:function(){return Se(a.field_name)},children:(0,e.jsx)(j.Z,{})})]}):(0,e.jsx)(_.Z,{onSelect:function(l){return Ae(a.field_name,l)},open:!1,children:(0,e.jsx)("div",{className:"ant-upload-item",children:(0,e.jsxs)("div",{className:"add",children:[(0,e.jsx)(O.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:(0,e.jsx)(v.FormattedMessage,{id:"setting.system.upload"})})]})})})}):a.type==="images"?(0,e.jsxs)(M.Z,{name:["extra",a.field_name],label:a.name,children:[(r=m.extra[a.field_name])!==null&&r!==void 0&&r.length?m.extra[a.field_name].map(function(t,l){return(0,e.jsxs)("div",{className:"ant-upload-item",children:[(0,e.jsx)(Q.Z,{preview:{src:t},src:t}),(0,e.jsx)("span",{className:"delete",onClick:function(){return ra(a.field_name,l)},children:(0,e.jsx)(j.Z,{})})]},l)}):null,(0,e.jsx)(_.Z,{onSelect:function(l){return sa(a.field_name,l)},open:!1,multiple:!0,children:(0,e.jsx)("div",{className:"ant-upload-item",children:(0,e.jsxs)("div",{className:"add",children:[(0,e.jsx)(O.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:(0,e.jsx)(v.FormattedMessage,{id:"setting.system.upload"})})]})})})]}):a.type==="file"?(0,e.jsx)(M.Z,{name:["extra",a.field_name],label:a.name,children:m.extra[a.field_name]?(0,e.jsxs)("div",{className:"ant-upload-item ant-upload-file",children:[(0,e.jsx)("span",{children:m.extra[a.field_name]}),(0,e.jsx)("span",{className:"delete",onClick:function(){return Se(a.field_name)},children:(0,e.jsx)(j.Z,{})})]}):(0,e.jsx)(_.Z,{onSelect:function(l){return Ae(a.field_name,l)},open:!1,children:(0,e.jsx)(J.ZP,{children:(0,e.jsx)(v.FormattedMessage,{id:"setting.system.upload"})})})}):null},s)})}),(oe=ae.category_fields)===null||oe===void 0?void 0:oe.map(function(a,s){return a.type==="editor"?(0,e.jsx)(M.Z,{label:a.name,required:!!a.required,extra:a.content&&d.formatMessage({id:"content.param.default"})+a.content,children:Pe.editor==="markdown"?(0,e.jsx)(E.Z,{className:"mb-normal",setContent:function(t){return Re(a.field_name,t)},content:ee[a.field_name]||"",ref:null}):(0,e.jsx)(L.Z,{className:"mb-normal",setContent:function(t){return Re(a.field_name,t)},content:ee[a.field_name]||"",field:a.field_name,ref:null},a.field_name)},s):""})]},"2"),Oe&&(0,e.jsx)(e.Fragment,{children:Pe.editor==="markdown"?(0,e.jsx)(E.Z,{className:"mb-normal",setContent:function(){var a=f()(c()().mark(function s(r){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:de(r);case 1:case"end":return l.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),content:ie,ref:fe}):(0,e.jsx)(L.Z,{className:"mb-normal",setContent:function(){var a=f()(c()().mark(function s(r){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:de(r);case 1:case"end":return l.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),field:"content",ref:fe,content:ie},"content")})]}),(0,e.jsxs)(G.Z,{sm:6,xs:24,children:[(0,e.jsx)("div",{className:"mb-normal",children:(0,e.jsxs)(q.Z,{gutter:[16,16],children:[(0,e.jsx)(G.Z,{span:12,children:(0,e.jsx)(J.ZP,{block:!0,type:"primary",onClick:function(){var s,r;re((s=w.current)===null||s===void 0||(r=s.getFieldsFormatValue)===null||r===void 0?void 0:r.call(s))},children:(0,e.jsx)(v.FormattedMessage,{id:"content.submit.ok"})})}),(0,e.jsx)(G.Z,{span:12,children:(0,e.jsx)(J.ZP,{block:!0,onClick:function(){v.history.back()},children:(0,e.jsx)(v.FormattedMessage,{id:"design.back"})})})]})}),(0,e.jsxs)(C.Z,{className:"aside-card",size:"small",title:d.formatMessage({id:"content.category.banner"}),children:[H.length?H.map(function(a,s){return(0,e.jsxs)("div",{className:"ant-upload-item",children:[(0,e.jsx)(Q.Z,{preview:{src:a},src:a}),(0,e.jsx)("span",{className:"delete",onClick:aa.bind(Le,s),children:(0,e.jsx)(j.Z,{})})]},s)}):null,(0,e.jsx)(_.Z,{onSelect:ea,open:!1,multiple:!0,children:(0,e.jsx)("div",{className:"ant-upload-item",children:(0,e.jsxs)("div",{className:"add",children:[(0,e.jsx)(O.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:(0,e.jsx)(v.FormattedMessage,{id:"setting.system.upload"})})]})})})]}),(0,e.jsx)(C.Z,{className:"aside-card",size:"small",title:d.formatMessage({id:"content.category.thumb"}),children:te?(0,e.jsxs)("div",{className:"ant-upload-item",children:[(0,e.jsx)(Q.Z,{preview:{src:te},src:te}),(0,e.jsx)("span",{className:"delete",onClick:ta,children:(0,e.jsx)(j.Z,{})})]}):(0,e.jsx)(_.Z,{onSelect:na,open:!1,children:(0,e.jsx)("div",{className:"ant-upload-item",children:(0,e.jsxs)("div",{className:"add",children:[(0,e.jsx)(O.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:(0,e.jsx)(v.FormattedMessage,{id:"setting.system.upload"})})]})})})}),(0,e.jsx)(C.Z,{className:"aside-card",size:"small",title:d.formatMessage({id:"content.url-token.name"}),children:(0,e.jsx)(M.Z,{name:"url_token",placeholder:d.formatMessage({id:"content.url-token.placeholder"}),extra:d.formatMessage({id:"content.url-token.tips"})})}),(0,e.jsx)(C.Z,{className:"aside-card",size:"small",title:d.formatMessage({id:"content.category.sort"}),children:(0,e.jsx)(b.Z,{name:"sort",extra:d.formatMessage({id:"content.category.sort.description"})})}),(0,e.jsx)(C.Z,{className:"aside-card",size:"small",title:d.formatMessage({id:"content.category.template"}),children:(0,e.jsx)(R.Z,{showSearch:!0,name:"template",request:f()(c()().mark(function a(){var s,r,t;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,p.h5q)({});case 2:s=o.sent,r=[{path:"",remark:d.formatMessage({id:"content.default-template"})}].concat(s.data||[]);for(t in r)r[t].remark?r[t].remark=r[t].path+"("+r[t].remark+")":r[t].remark=r[t].path;return o.abrupt("return",r);case 6:case"end":return o.stop()}},a)})),fieldProps:{fieldNames:{label:"remark",value:"path"}},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)(v.FormattedMessage,{id:"content.category.default"}),":"," ",ae.table_name,"/list.html"]})})}),(0,e.jsx)(C.Z,{className:"aside-card",size:"small",title:d.formatMessage({id:"content.category.inherit"}),children:(0,e.jsx)(k.Z.Group,{name:"is_inherit",options:[{value:0,label:d.formatMessage({id:"content.category.inherit.false"})},{value:1,label:d.formatMessage({id:"content.category.inherit.true"})}],extra:d.formatMessage({id:"content.category.inherit.description"})})}),(0,e.jsx)(C.Z,{className:"aside-card",size:"small",title:d.formatMessage({id:"content.archive-template.name"}),children:(0,e.jsx)(R.Z,{showSearch:!0,name:"detail_template",request:f()(c()().mark(function a(){var s,r,t;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,p.h5q)({});case 2:s=o.sent,r=[{path:"",remark:d.formatMessage({id:"content.default-template"})}].concat(s.data||[]);for(t in r)r[t].remark?r[t].remark=r[t].path+"("+r[t].remark+")":r[t].remark=r[t].path;return o.abrupt("return",r);case 6:case"end":return o.stop()}},a)})),fieldProps:{fieldNames:{label:"remark",value:"path"}},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)(v.FormattedMessage,{id:"content.category.default"}),":"," ",ae.table_name,"/detail.html"]})})})]})]})})},Je)})};B.default=Ke},32639:function(){}}]);
