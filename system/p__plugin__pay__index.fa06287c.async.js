"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[8195],{65800:function(V,b,s){s.r(b),s.d(b,{default:function(){return z}});var C=s(90228),p=s.n(C),R=s(87999),h=s.n(R),U=s(48305),w=s.n(U),x=s(75304),$=s(96570),k=s(74133),i=s(96640),d=s(32064),v=s(34206),T=s(91827),A=s(53745),o=s(47634),g=s(48782),j=s(75271),a=s(52676),L=function(){var I=(0,j.useState)(null),P=w()(I,2),c=P[0],S=P[1],D=(0,j.useState)(!1),F=w()(D,2),G=F[0],O=F[1],Q=(0,j.useState)(0),N=w()(Q,2),m=N[0],Z=N[1],r=(0,d.useIntl)(),B=function(){var l=h()(p()().mark(function t(){var n;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.iz7)();case 2:n=e.sent,S(n.data||{}),O(!0);case 5:case"end":return e.stop()}},t)}));return function(){return l.apply(this,arguments)}}();(0,j.useEffect)(function(){B()},[]);var E=function(){var l=h()(p()().mark(function t(n){var u;return p()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:u=v.ZP.loading(r.formatMessage({id:"setting.system.submitting"}),0),(0,x.Utq)(Object.assign(c,n)).then(function(M){v.ZP.success(M.msg)}).catch(function(M){console.log(M)}).finally(function(){u()});case 2:case"end":return f.stop()}},t)}));return function(n){return l.apply(this,arguments)}}(),y=function(t,n){var u=new FormData;u.append("file",n.file),u.append("name",t);var e=v.ZP.loading(r.formatMessage({id:"setting.system.submitting"}),0);(0,x.$RB)(u).then(function(f){v.ZP.success(f.msg),c[t]=f.data,S(Object.assign({},c))}).finally(function(){e()})};return(0,a.jsx)($._z,{children:(0,a.jsx)(T.Z,{children:G&&(0,a.jsxs)(k.A,{title:r.formatMessage({id:"menu.plugin.pay"}),layout:"vertical",initialValues:c,onFinish:E,children:[(0,a.jsxs)(A.Z,{size:20,className:"pay-tabs",children:[(0,a.jsx)(o.ZP,{type:m===0?"primary":"default",onClick:function(){return Z(0)},children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.wechat"})}),(0,a.jsx)(o.ZP,{type:m===1?"primary":"default",onClick:function(){return Z(1)},children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.alipay"})}),(0,a.jsx)(o.ZP,{type:m===2?"primary":"default",onClick:function(){return Z(2)},children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.paypal"})})]}),(0,a.jsxs)("div",{className:"pay-tab "+(m===0&&"active"),children:[(0,a.jsx)(i.Z,{name:"wechat_app_id",label:r.formatMessage({id:"plugin.pay.wechat.wechat.appid"}),width:"lg"}),(0,a.jsx)(i.Z,{name:"wechat_app_secret",label:r.formatMessage({id:"plugin.pay.wechat.wechat.app-secret"}),width:"lg"}),(0,a.jsx)(i.Z,{name:"weapp_app_id",label:r.formatMessage({id:"plugin.pay.wechat.weapp.appid"}),width:"lg"}),(0,a.jsx)(i.Z,{name:"weapp_app_secret",label:r.formatMessage({id:"plugin.pay.wechat.weapp.app-secret"}),width:"lg"}),(0,a.jsx)(i.Z,{name:"wechat_mch_id",label:r.formatMessage({id:"plugin.pay.wechat.mchid"}),width:"lg"}),(0,a.jsx)(i.Z,{name:"wechat_api_key",label:r.formatMessage({id:"plugin.pay.wechat.apikey"}),width:"lg"}),(0,a.jsxs)(i.Z,{label:r.formatMessage({id:"plugin.pay.wechat.cert-path"}),children:[(0,a.jsx)(g.Z,{name:"file",className:"logo-uploader",showUploadList:!1,accept:".crt,.pem",customRequest:function(){var l=h()(p()().mark(function t(n){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y("wechat_cert_path",n));case 1:case"end":return e.stop()}},t)}));return function(t){return l.apply(this,arguments)}}(),children:(0,a.jsx)(o.ZP,{type:"primary",children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.upload"})})}),c.wechat_cert_path&&(0,a.jsx)("div",{className:"upload-file",children:c.wechat_cert_path})]}),(0,a.jsxs)(i.Z,{label:r.formatMessage({id:"plugin.pay.wechat.key-path"}),children:[(0,a.jsx)(g.Z,{name:"file",className:"logo-uploader",showUploadList:!1,accept:".crt,.pem",customRequest:function(){var l=h()(p()().mark(function t(n){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y("wechat_key_path",n));case 1:case"end":return e.stop()}},t)}));return function(t){return l.apply(this,arguments)}}(),children:(0,a.jsx)(o.ZP,{type:"primary",children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.upload"})})}),c.wechat_key_path&&(0,a.jsx)("div",{className:"upload-file",children:c.wechat_key_path})]})]}),(0,a.jsxs)("div",{className:"pay-tab "+(m===1&&"active"),children:[(0,a.jsx)(i.Z,{name:"alipay_app_id",label:r.formatMessage({id:"plugin.pay.alipay.appid"}),width:"lg"}),(0,a.jsx)(i.Z,{name:"alipay_private_key",label:r.formatMessage({id:"plugin.pay.alipay.private-key"}),width:"lg"}),(0,a.jsxs)(i.Z,{label:r.formatMessage({id:"plugin.pay.alipay.cert-path"}),children:[(0,a.jsx)(g.Z,{name:"file",className:"logo-uploader",showUploadList:!1,accept:".crt,.pem",customRequest:function(){var l=h()(p()().mark(function t(n){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y("alipay_cert_path",n));case 1:case"end":return e.stop()}},t)}));return function(t){return l.apply(this,arguments)}}(),children:(0,a.jsx)(o.ZP,{type:"primary",children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.upload"})})}),c.alipay_cert_path&&(0,a.jsx)("div",{className:"upload-file",children:c.alipay_cert_path})]}),(0,a.jsxs)(i.Z,{label:r.formatMessage({id:"plugin.pay.alipay.root-cert-path"}),children:[(0,a.jsx)(g.Z,{name:"file",className:"logo-uploader",showUploadList:!1,accept:".crt,.pem",customRequest:function(){var l=h()(p()().mark(function t(n){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y("alipay_root_cert_path",n));case 1:case"end":return e.stop()}},t)}));return function(t){return l.apply(this,arguments)}}(),children:(0,a.jsx)(o.ZP,{type:"primary",children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.upload"})})}),c.alipay_root_cert_path&&(0,a.jsx)("div",{className:"upload-file",children:c.alipay_root_cert_path})]}),(0,a.jsxs)(i.Z,{label:r.formatMessage({id:"plugin.pay.alipay.public-cert-path"}),children:[(0,a.jsx)(g.Z,{name:"file",className:"logo-uploader",showUploadList:!1,accept:".crt,.pem",customRequest:function(){var l=h()(p()().mark(function t(n){return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y("alipay_public_cert_path",n));case 1:case"end":return e.stop()}},t)}));return function(t){return l.apply(this,arguments)}}(),children:(0,a.jsx)(o.ZP,{type:"primary",children:(0,a.jsx)(d.FormattedMessage,{id:"plugin.pay.upload"})})}),c.alipay_public_cert_path&&(0,a.jsx)("div",{className:"upload-file",children:c.alipay_public_cert_path})]})]}),(0,a.jsxs)("div",{className:"pay-tab "+(m===2&&"active"),children:[(0,a.jsx)(i.Z,{name:"paypal_client_id",label:r.formatMessage({id:"plugin.pay.paypal.client-id"}),width:"lg"}),(0,a.jsx)(i.Z,{name:"paypal_client_secret",label:r.formatMessage({id:"plugin.pay.paypal.secret"}),width:"lg"})]})]})})})},z=L}}]);
