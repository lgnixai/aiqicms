"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[7683],{85606:function(W,x,t){var L=t(48305),o=t.n(L),I=t(75304),r=t(22683),T=t(96570),u=t(75271),v=t(52676),b=function(s){var R=(0,u.useState)(void 0),A=o()(R,2),n=A[0],h=A[1],M=(0,u.useState)(""),f=o()(M,2),S=f[0],C=f[1],P=function(){(0,I.roP)({type:"multi"}).then(function(e){var l=(e.data||[]).map(function(K){return{key:K.id,tab:K.name,is_main:K.is_main}});h(l);var g=(0,r.KJ)("sub-site-id");!g&&l.length>0&&(g=l[0].key+"");var y=l.find(function(K){return K.key===Number(g)}),U=!1;y&&(U=!0,y.is_main&&(U=!1)),(0,r.Xq)("is-sub-site",U),C(g)})};(0,u.useEffect)(function(){P()},[]);var D=function(e){var l;C(e),(0,r.Xq)("sub-site-id",e);var g=n.find(function(U){return U.key===Number(e)}),y=!0;g.is_main&&(y=!1),(0,r.Xq)("is-sub-site",y),(l=s.onTabChange)===null||l===void 0||l.call(s,e,y)};return(0,v.jsx)(T._z,{tabList:n,tabActiveKey:S,onTabChange:D,title:s.title,children:s.children})};x.Z=b},17361:function(W,x,t){var L=t(48305),o=t.n(L),I=t(54203),r=t(75271),T=t(99944),u=t(76979),v=t(52676),b=function(s){var R=(0,r.useState)(!1),A=o()(R,2),n=A[0],h=A[1],M=(0,r.useState)([]),f=o()(M,2),S=f[0],C=f[1],P=function(l){if(s.manual){var g;(g=s.onCancel)===null||g===void 0||g.call(s,l)}else h(l)},D=function(l){s.multiple?C(l):(s.onSelect(l),P(!1))},j=function(){s.multiple&&s.onSelect(S),P(!1)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:{display:"inline-block"},onClick:function(){P(!n)},children:s.children}),(0,v.jsx)(I.Z,{className:"material-modal",width:800,open:s.manual?s.open:n,onCancel:function(){P(!1)},onOk:function(){j()},children:(0,v.jsx)(T.Z,{multiple:s.multiple,onSelect:function(l){D(l)}})})]})};x.Z=b},19830:function(W,x,t){t.d(x,{Z:function(){return R}});var L=t(82092),o=t.n(L),I=t(48305),r=t.n(I),T=t(75271),u=t(82187),v=t.n(u),b=t(27806),E=t(52676),s=function(n){var h=(0,T.useState)(!1),M=r()(h,2),f=M[0],S=M[1];(0,T.useEffect)(function(){S(n.open||!1)},[]);var C=function(){S(!f)},P=v()(o()(o()({},"collaspe-item",!0),"collaspe-item-active",f),n.className);return(0,E.jsxs)("div",{className:P,style:n.style,children:[(0,E.jsxs)("div",{className:"collaspe-header",onClick:C,children:[n.showArrow&&(0,E.jsx)(b.Z,{className:"collaspe-icon"}),(0,E.jsx)("div",{className:"collaspe-header-text",children:n.header}),n.extra&&(0,E.jsx)("div",{className:"collaspe-extra",children:n.extra})]}),(0,E.jsx)("div",{className:"collaspe-content",children:n.children})]})},R=s},99817:function(W,x,t){t.r(x);var L=t(90228),o=t.n(L),I=t(87999),r=t.n(I),T=t(48305),u=t.n(T),v=t(17361),b=t(19830),E=t(85606),s=t(5933),R=t(16621),A=t(74133),n=t(96640),h=t(32064),M=t(34206),f=t(54203),S=t(91827),C=t(47634),P=t(59124),D=t(48806),j=t(75271),e=t(52676),l=function(){var y=(0,j.useState)(null),U=u()(y,2),K=U[0],G=U[1],V=(0,j.useState)(""),Q=u()(V,2),B=Q[0],N=Q[1],$=(0,j.useState)([]),w=u()($,2),m=w[0],Z=w[1],J=(0,j.useState)(""),X=u()(J,2),Y=X[0],H=X[1],i=(0,h.useIntl)(),z=function(){var c=r()(o()().mark(function a(){var d,_;return o()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,s.h7)();case 2:d=O.sent,_=d.data||null,G(_),N((_==null?void 0:_.qrcode)||""),Z(_.extra_fields||[]);case 7:case"end":return O.stop()}},a)}));return function(){return c.apply(this,arguments)}}(),k=function(a){z().then(function(){H(a)})};(0,j.useEffect)(function(){z()},[]);var q=function(a){N(a.logo),M.ZP.success(i.formatMessage({id:"setting.system.upload-success"}))},ee=function(a){a.stopPropagation(),f.Z.confirm({title:i.formatMessage({id:"setting.system.confirm-delete"}),onOk:function(){var d=r()(o()().mark(function F(){return o()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:N("");case 1:case"end":return p.stop()}},F)}));function _(){return d.apply(this,arguments)}return _}()})},te=function(){var c=r()(o()().mark(function a(d){var _;return o()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:d.qrcode=B,d.extra_fields=m,_=M.ZP.loading(i.formatMessage({id:"setting.system.submitting"}),0),(0,s._U)(d).then(function(p){M.ZP.success(p.msg)}).catch(function(p){console.log(p)}).finally(function(){_()});case 4:case"end":return O.stop()}},a)}));return function(d){return c.apply(this,arguments)}}();return(0,e.jsx)(E.Z,{onTabChange:function(a){return k(a)},children:(0,e.jsx)(S.Z,{children:K&&(0,e.jsxs)(A.A,{initialValues:K,onFinish:te,title:i.formatMessage({id:"menu.setting.contact"}),children:[(0,e.jsx)(n.Z,{name:"user_name",label:i.formatMessage({id:"setting.contact.username"}),width:"lg"}),(0,e.jsx)(n.Z,{name:"cellphone",label:i.formatMessage({id:"setting.contact.cellphone"}),width:"lg"}),(0,e.jsx)(n.Z,{name:"address",label:i.formatMessage({id:"setting.contact.address"}),width:"lg"}),(0,e.jsx)(n.Z,{name:"email",label:i.formatMessage({id:"setting.contact.email"}),width:"lg"}),(0,e.jsx)(n.Z,{name:"wechat",label:i.formatMessage({id:"setting.contact.wechat"}),width:"lg"}),(0,e.jsx)(n.Z,{label:i.formatMessage({id:"setting.contact.qrcode"}),width:"lg",children:(0,e.jsx)(v.Z,{onSelect:q,open:!1,children:(0,e.jsx)("div",{className:"ant-upload-item",children:B?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("img",{src:B,style:{width:"100%"}}),(0,e.jsx)("a",{className:"delete",onClick:ee,children:(0,e.jsx)(h.FormattedMessage,{id:"setting.system.delete"})})]}):(0,e.jsxs)("div",{className:"add",children:[(0,e.jsx)(R.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:(0,e.jsx)(h.FormattedMessage,{id:"setting.system.upload"})})]})})})}),(0,e.jsxs)(b.Z,{header:i.formatMessage({id:"setting.contact.more"}),showArrow:!0,children:[(0,e.jsx)(n.Z,{name:"qq",label:"QQ",width:"lg"}),(0,e.jsx)(n.Z,{name:"whats_app",label:"WhatsApp",width:"lg"}),(0,e.jsx)(n.Z,{name:"facebook",label:"Facebook",width:"lg"}),(0,e.jsx)(n.Z,{name:"twitter",label:"Twitter",width:"lg"}),(0,e.jsx)(n.Z,{name:"tiktok",label:"Tiktok",width:"lg"}),(0,e.jsx)(n.Z,{name:"pinterest",label:"Pinterest",width:"lg"}),(0,e.jsx)(n.Z,{name:"linkedin",label:"Linkedin",width:"lg"}),(0,e.jsx)(n.Z,{name:"instagram",label:"Instagram",width:"lg"}),(0,e.jsx)(n.Z,{name:"youtube",label:"Youtube",width:"lg"})]},"0"),(0,e.jsx)(b.Z,{className:"mb-normal",header:i.formatMessage({id:"setting.system.diy-params"}),showArrow:!0,extra:(0,e.jsx)(C.ZP,{size:"small",onClick:function(a){a.stopPropagation(),m.push({name:"",value:"",remark:""}),Z([].concat(m))},children:(0,e.jsx)(h.FormattedMessage,{id:"setting.system.add-param"})}),children:m.map(function(c,a){return(0,e.jsxs)(P.Z,{gutter:16,children:[(0,e.jsx)(D.Z,{sm:8,xs:12,children:(0,e.jsx)(n.Z,{name:["extra_fields",a,"name"],label:i.formatMessage({id:"setting.system.param-name"}),fieldProps:{value:c.name,onChange:function(_){m[a].name=_.target.value,Z([].concat(m))}},required:!0,extra:i.formatMessage({id:"setting.system.param-name-description"})})}),(0,e.jsx)(D.Z,{sm:8,xs:12,children:(0,e.jsx)(n.Z,{name:["extra_fields",a,"value"],label:i.formatMessage({id:"setting.system.param-value"}),fieldProps:{value:c.value,onChange:function(_){m[a].value=_.target.value,Z([].concat(m))}}})}),(0,e.jsx)(D.Z,{sm:6,xs:12,children:(0,e.jsx)(n.Z,{name:["extra_fields",a,"remark"],label:i.formatMessage({id:"setting.system.remark"}),fieldProps:{value:c.remark,onChange:function(_){m[a].remark=_.target.value,Z([].concat(m))}}})}),(0,e.jsx)(D.Z,{sm:2,xs:12,children:(0,e.jsx)(C.ZP,{style:{marginTop:"30px"},onClick:function(){f.Z.confirm({title:i.formatMessage({id:"setting.system.confirm-delete-param"}),onOk:function(){m.splice(a,1),Z([].concat(m))}})},children:(0,e.jsx)(h.FormattedMessage,{id:"setting.system.delete"})})})]},a)})},"1")]})},Y)})};x.default=l}}]);
