"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[3400],{85606:function(Z,D,e){var T=e(48305),p=e.n(T),U=e(75304),i=e(22683),A=e(96570),m=e(75271),j=e(52676),P=function(h){var K=(0,m.useState)(void 0),O=p()(K,2),r=O[0],C=O[1],I=(0,m.useState)(""),S=p()(I,2),R=S[0],f=S[1],n=function(){(0,U.roP)({type:"multi"}).then(function(u){var _=(u.data||[]).map(function(b){return{key:b.id,tab:b.name,is_main:b.is_main}});C(_);var c=(0,i.KJ)("sub-site-id");!c&&_.length>0&&(c=_[0].key+"");var v=_.find(function(b){return b.key===Number(c)}),E=!1;v&&(E=!0,v.is_main&&(E=!1)),(0,i.Xq)("is-sub-site",E),f(c)})};(0,m.useEffect)(function(){n()},[]);var L=function(u){var _;f(u),(0,i.Xq)("sub-site-id",u);var c=r.find(function(E){return E.key===Number(u)}),v=!0;c.is_main&&(v=!1),(0,i.Xq)("is-sub-site",v),(_=h.onTabChange)===null||_===void 0||_.call(h,u,v)};return(0,j.jsx)(A._z,{tabList:r,tabActiveKey:R,onTabChange:L,title:h.title,children:h.children})};D.Z=P},79184:function(Z,D,e){e.r(D);var T=e(26068),p=e.n(T),U=e(90228),i=e.n(U),A=e(87999),m=e.n(A),j=e(48305),P=e.n(j),W=e(85606),h=e(41941),K=e(74133),O=e(66857),r=e(32064),C=e(34206),I=e(91827),S=e(18874),R=e(47634),f=e(75271),n=e(52676),L=function(){var u=(0,r.useModel)("@@initialState"),_=u.initialState,c=u.setInitialState,v=(0,f.useState)({}),E=P()(v,2),b=E[0],$=E[1],X=(0,f.useState)(!1),y=P()(X,2),G=y[0],Q=y[1],z=(0,f.useState)(""),x=P()(z,2),J=x[0],V=x[1],F=(0,r.useIntl)(),N=function(){var o=m()(i()().mark(function a(){var d,t;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,h.u)();case 2:d=s.sent,t=d.data||{},$(t),Q(!0);case 6:case"end":return s.stop()}},a)}));return function(){return o.apply(this,arguments)}}(),w=function(a){N().then(function(){V(a)})};(0,f.useEffect)(function(){N()},[]);var H=function(){var o=m()(i()().mark(function a(d){var t;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=C.ZP.loading(F.formatMessage({id:"setting.system.submitting"}),0),(0,h.$)(d).then(function(M){C.ZP.success(M.msg)}).catch(function(M){console.log(M)}).finally(function(){t()});case 2:case"end":return s.stop()}},a)}));return function(d){return o.apply(this,arguments)}}(),Y=function(){var o=m()(i()().mark(function a(d){var t,g,s,M;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(t="",_!=null&&_.system){l.next=11;break}return l.next=4,_==null||(g=_.fetchSystemSetting)===null||g===void 0?void 0:g.call(_);case 4:if(s=l.sent,!s){l.next=8;break}return l.next=8,c(function(k){return p()(p()({},k),{},{system:s})});case 8:t=(s==null?void 0:s.base_url)||"",l.next=12;break;case 11:t=((M=_.system)===null||M===void 0?void 0:M.base_url)||"";case 12:return l.abrupt("return",t+d);case 13:case"end":return l.stop()}},a)}));return function(d){return o.apply(this,arguments)}}();return(0,n.jsx)(W.Z,{onTabChange:function(a){return w(a)},children:(0,n.jsxs)(I.Z,{children:[(0,n.jsx)(S.Z,{message:(0,n.jsxs)("div",{children:[(0,n.jsx)(r.FormattedMessage,{id:"plugin.robots.tips.before"}),(0,n.jsx)("a",{href:"https://baike.baidu.com/item/robots%E5%8D%8F%E8%AE%AE/2483797",children:(0,n.jsx)(r.FormattedMessage,{id:"plugin.robots.tips.after"})})]})}),(0,n.jsx)("div",{className:"mt-normal",children:G&&(0,n.jsx)(K.A,{onFinish:H,initialValues:b,children:(0,n.jsx)(O.Z,{name:"robots",fieldProps:{rows:15},label:F.formatMessage({id:"plugin.robots.content"}),extra:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(0,n.jsx)(r.FormattedMessage,{id:"plugin.robots.content.tips1"})}),(0,n.jsx)("p",{children:(0,n.jsx)(r.FormattedMessage,{id:"plugin.robots.content.tips2"})})]})})})}),(0,n.jsx)("div",{className:"mt-normal",children:(0,n.jsx)(R.ZP,{onClick:m()(i()().mark(function o(){var a;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y("/robots.txt");case 2:a=t.sent,window.open(a);case 4:case"end":return t.stop()}},o)})),children:(0,n.jsx)(r.FormattedMessage,{id:"plugin.robots.view"})})})]},J)})};D.default=L}}]);
