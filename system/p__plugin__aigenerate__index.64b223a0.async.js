"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[8241],{71384:function(he,w,a){var u=a(18201),C=a(66342),U=a(75271),O=a(31945),T=a(52676),X=["fieldProps","min","proFieldProps","max"],$=function(p,ae){var z=p.fieldProps,G=p.min,W=p.proFieldProps,S=p.max,x=(0,C.Z)(p,X);return(0,T.jsx)(O.Z,(0,u.Z)({valueType:"digit",fieldProps:(0,u.Z)({min:G,max:S},z),ref:ae,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:W},x))},i=U.forwardRef($);w.Z=i},41265:function(he,w,a){var u=a(18201),C=a(66342),U=a(59831),O=a(75271),T=a(38465),X=a(31945),$=a(52676),i=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],se=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(x,Q){var V=x.fieldProps,H=x.children,ie=x.params,te=x.proFieldProps,R=x.mode,A=x.valueEnum,M=x.request,re=x.showSearch,q=x.options,le=(0,C.Z)(x,i),pe=(0,O.useContext)(T.Z);return(0,$.jsx)(X.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,U.h)(A),request:M,params:ie,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({options:q,mode:R,showSearch:re,getPopupContainer:pe.getPopupContainer},V),ref:Q,proFieldProps:te},le),{},{children:H}))},ae=O.forwardRef(function(S,x){var Q=S.fieldProps,V=S.children,H=S.params,ie=S.proFieldProps,te=S.mode,R=S.valueEnum,A=S.request,M=S.options,re=(0,C.Z)(S,se),q=(0,u.Z)({options:M,mode:te||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},Q),le=(0,O.useContext)(T.Z);return(0,$.jsx)(X.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,U.h)(R),request:A,params:H,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({getPopupContainer:le.getPopupContainer},q),ref:x,proFieldProps:ie},re),{},{children:V}))}),z=O.forwardRef(p),G=ae,W=z;W.SearchSelect=G,W.displayName="ProFormComponent",w.Z=W},17361:function(he,w,a){var u=a(48305),C=a.n(u),U=a(54203),O=a(75271),T=a(99944),X=a(76979),$=a(52676),i=function(p){var ae=(0,O.useState)(!1),z=C()(ae,2),G=z[0],W=z[1],S=(0,O.useState)([]),x=C()(S,2),Q=x[0],V=x[1],H=function(A){if(p.manual){var M;(M=p.onCancel)===null||M===void 0||M.call(p,A)}else W(A)},ie=function(A){p.multiple?V(A):(p.onSelect(A),H(!1))},te=function(){p.multiple&&p.onSelect(Q),H(!1)};return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("div",{style:{display:"inline-block"},onClick:function(){H(!G)},children:p.children}),(0,$.jsx)(U.Z,{className:"material-modal",width:800,open:p.manual?p.open:G,onCancel:function(){H(!1)},onOk:function(){te()},children:(0,$.jsx)(T.Z,{multiple:p.multiple,onSelect:function(A){ie(A)}})})]})};w.Z=i},60941:function(he,w,a){a.r(w),a.d(w,{default:function(){return ve}});var u=a(90228),C=a.n(u),U=a(87999),O=a.n(U),T=a(75304),X=a(96570),$=a(18640),i=a(32064),se=a(54203),p=a(34206),ae=a(91827),z=a(53745),G=a(47634),W=a(16483),S=a.n(W),x=a(75271),Q=a(335),V=a.n(Q),H=a(25298),ie=a.n(H),te=a(17069),R=a.n(te),A=a(62657),M=a.n(A),re=a(21742),q=a.n(re),le=a(83136),pe=a.n(le),xe=a(82092),k=a.n(xe),fe=a(17361),t=a(1812),m=a(16621),j=a(35937),n=a(76334),g=a(66857),y=a(96640),E=a(41265),ne=a(74133),Y=a(71384),B=a(21261),L=a(15947),oe=a(59124),_=a(48806),ge=a(43330),e=a(52676),J=function(me){q()(h,me);var de=pe()(h);function h(){var l;ie()(this,h);for(var r=arguments.length,D=new Array(r),f=0;f<r;f++)D[f]=arguments[f];return l=de.call.apply(de,[this].concat(D)),k()(M()(l),"state",{visible:!1,fetched:!1,setting:{},tmpInput:{},insertImage:0,aiEngine:""}),k()(M()(l),"handleSetVisible",function(o){l.setState({visible:o})}),k()(M()(l),"handleSubmit",function(){var o=O()(C()().mark(function v(s){var F,b,P;return C()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(F=l.state.setting,!(s.demand.length>500)){I.next=4;break}return p.ZP.error(l.props.intl.formatMessage({id:"plugin.aigenerate.demand.required"})),I.abrupt("return");case 4:b=Object.assign(F,s),P=p.ZP.loading(l.props.intl.formatMessage({id:"setting.system.submitting"}),0),(0,T.UMF)(b).then(function(c){p.ZP.info(c.msg),l.handleSetVisible(!1),l.props.onCancel()}).finally(function(){P()});case 7:case"end":return I.stop()}},v)}));return function(v){return o.apply(this,arguments)}}()),k()(M()(l),"handleRemove",function(o,v){var s=l.state.setting;s[o].splice(v,1),l.setState({setting:s})}),k()(M()(l),"handleChangeTmpInput",function(o,v){var s=l.state.tmpInput;s[o]=v.target.value,l.setState({tmpInput:s})}),k()(M()(l),"handleAddField",function(o){var v=l.state,s=v.tmpInput,F=v.setting;if(o==="content_replace"){if(!s.from||s.from===s.to)return;var b=!1,P=V()(F[o]),ee;try{for(P.s();!(ee=P.n()).done;){var I=ee.value;if(I.from===s.from){b=!0;break}}}catch(Z){P.e(Z)}finally{P.f()}b||(F[o].push({from:s.from,to:s.to}),s.from="",s.to="")}else if(o==="open_ai_keys"){if(!s.key)return;var c=!1,d=V()(F[o]),N;try{for(d.s();!(N=d.n()).done;){var K=N.value;if(K.key===s.key){c=!0;break}}}catch(Z){d.e(Z)}finally{d.f()}c||(F[o].push({key:s.key,invalid:!1}),s.key="")}else F[o].push(s[o]),s[o]="";l.setState({tmpInput:s,setting:F})}),k()(M()(l),"onChangeInsertImage",function(o){l.setState({insertImage:o.target.value})}),k()(M()(l),"handleSelectLogo",function(o){var v=l.state.setting,s=V()(o),F;try{for(s.s();!(F=s.n()).done;){var b=F.value,P=!1;for(var ee in v.images)if(v.images[ee]===b.logo){P=!0;break}P||v.images.push(b.logo)}}catch(I){s.e(I)}finally{s.f()}l.setState({setting:v})}),k()(M()(l),"handleChangeAiEngine",function(o){l.setState({aiEngine:o.target.value})}),k()(M()(l),"handleCheckOpenAIApi",function(){var o=l.state.setting,v=p.ZP.loading(l.props.intl.formatMessage({id:"plugin.aigenerate.checking"}),0);(0,T.gKT)().then(function(s){s.code===0?(p.ZP.success(s.msg),o.api_valid=!0):(p.ZP.error(s.msg),o.api_valid=!1),l.setState({setting:o})}).finally(function(){v()})}),l}return R()(h,[{key:"componentDidMount",value:function(){var r=this;(0,T.qZN)().then(function(D){var f=D.data;f.content_replace||(f.content_replace=[]),f.open_ai_keys||(f.open_ai_keys=[]),f.images||(f.images=[]),r.setState({setting:f,fetched:!0,insertImage:f.insert_image,aiEngine:f.ai_engine||""})})}},{key:"render",value:function(){var r=this,D,f,o,v=this.state,s=v.visible,F=v.fetched,b=v.setting,P=v.tmpInput,ee=v.insertImage,I=v.aiEngine;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{onClick:function(){r.handleSetVisible(!s)},children:this.props.children}),F&&(0,e.jsxs)(j.Y,{width:800,title:this.props.intl.formatMessage({id:"plugin.aigenerate.setting"}),initialValues:b,open:s,onOpenChange:function(d){r.handleSetVisible(d),d||r.props.onCancel(d)},onFinish:function(){var c=O()(C()().mark(function d(N){return C()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:r.handleSubmit(N);case 1:case"end":return Z.stop()}},d)}));return function(d){return c.apply(this,arguments)}}(),children:[(0,e.jsx)(n.Z.Group,{name:"open",label:this.props.intl.formatMessage({id:"plugin.aigenerate.isopen"}),options:[{label:this.props.intl.formatMessage({id:"plugin.aigenerate.isopen.no"}),value:!1},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.isopen.yes"}),value:!0}]}),(0,e.jsx)(n.Z.Group,{name:"language",label:this.props.intl.formatMessage({id:"plugin.aigenerate.language"}),options:[{cn:"\u82F1\u8BED",value:"en",label:"en"},{cn:"\u7B80\u4F53\u4E2D\u6587",value:"zh-CN",label:"zh-CN"}].map(function(c){return{label:r.props.intl.formatMessage({id:"content.translate."+c.label}),value:c.value}})}),(0,e.jsx)(n.Z.Group,{name:"double_title",label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-title"}),options:[{label:this.props.intl.formatMessage({id:"content.module.field.isfilter.no"}),value:!1},{label:this.props.intl.formatMessage({id:"content.module.field.isfilter.yes"}),value:!0}],extra:this.props.intl.formatMessage({id:"plugin.aigenerate.double-title.description"})}),(0,e.jsx)(n.Z.Group,{name:"double_split",label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-split"}),options:[{label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-split.bracket"}),value:0},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-split.line"}),value:1},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-split.question"}),value:2},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-split.comma"}),value:3},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-split.colon"}),value:4},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.double-split.random"}),value:5}]}),(0,e.jsx)(g.Z,{name:"demand",label:this.props.intl.formatMessage({id:"plugin.aigenerate.demand"}),fieldProps:{maxLength:500},extra:this.props.intl.formatMessage({id:"plugin.aigenerate.demand.description"})}),(0,e.jsx)(n.Z.Group,{name:"ai_engine",label:this.props.intl.formatMessage({id:"plugin.aigenerate.source"}),options:[{label:this.props.intl.formatMessage({id:"plugin.aigenerate.source.anqicms"}),value:""},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.source.openai"}),value:"openai"},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.source.deepseek"}),value:"deepseek"},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.source.spark"}),value:"spark"}],fieldProps:{onChange:function(d){r.handleChangeAiEngine(d)}},extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.source.description"})}),(0,e.jsx)(B.Z,{style:{marginLeft:10},className:"link",onClick:this.handleCheckOpenAIApi,children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.source.check-openai"})})]})}),(I==="openai"||I==="deepseek")&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.Z,{name:"open_ai_api",label:this.props.intl.formatMessage({id:"plugin.aigenerate.openai.base-url"}),extra:this.props.intl.formatMessage({id:I==="deepseek"?"plugin.aigenerate.openai.base-url.deepseek":"plugin.aigenerate.openai.base-url.openai"})}),(0,e.jsx)(y.Z,{name:"open_ai_model",label:this.props.intl.formatMessage({id:"plugin.aigenerate.openai.model"}),extra:this.props.intl.formatMessage({id:I==="deepseek"?"plugin.aigenerate.openai.model.deepseek":"plugin.aigenerate.openai.model.openai"})}),(0,e.jsx)(y.Z,{label:"API Keys",extra:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-muted",children:(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-red",children:"*"}),(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.openai.description"})]})}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(z.Z,{size:[12,12],wrap:!0,children:(D=b.open_ai_keys)===null||D===void 0?void 0:D.map(function(c,d){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:c.key}),(0,e.jsx)("span",{className:"divide",children:(0,e.jsx)("span",{className:"value",children:c.invalid?r.props.intl.formatMessage({id:"plugin.aigenerate.openai.invalid"}):r.props.intl.formatMessage({id:"plugin.aigenerate.openai.valid"})})}),(0,e.jsx)("span",{className:"close",onClick:r.handleRemove.bind(r,"open_ai_keys",d),children:"\xD7"})]},d)})})})]}),children:(0,e.jsx)(L.Z.Group,{compact:!0,children:(0,e.jsx)(L.Z,{value:P.key||"",onChange:this.handleChangeTmpInput.bind(this,"key"),onPressEnter:this.handleAddField.bind(this,"open_ai_keys"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"open_ai_keys"),children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})})})})]}),I==="spark"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"mb-normal",children:[(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.spark.description"}),":",(0,e.jsx)("a",{href:"https://xinghuo.xfyun.cn/sparkapi?ch=gjp",target:"_blank",rel:"noreferrer",children:"https://xinghuo.xfyun.cn/sparkapi?ch=gjp"})]}),(0,e.jsx)(n.Z.Group,{name:["spark","version"],label:this.props.intl.formatMessage({id:"plugin.aigenerate.spark.version"}),options:[{label:"Spark Lite(Free)",value:"1.5"},{label:"Spark Pro",value:"3.0"},{label:"Spark Max",value:"3.5"},{label:"Spark4.0 Ultra",value:"4.0"}]}),(0,e.jsx)(y.Z,{name:["spark","app_id"],label:"APPID"}),(0,e.jsx)(y.Z,{name:["spark","api_secret"],label:"APISecret"}),(0,e.jsx)(y.Z,{name:["spark","api_key"],label:"APIKey"})]}),(0,e.jsx)(E.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.default-category"}),name:"category_ids",mode:"multiple",required:!0,extra:this.props.intl.formatMessage({id:"plugin.aigenerate.default-category.description"}),request:O()(C()().mark(function c(){var d;return C()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,t.CP)({type:1});case 2:return d=K.sent,K.abrupt("return",d.data||[]);case 4:case"end":return K.stop()}},c)})),fieldProps:{fieldNames:{label:"title",value:"id"},optionItemRender:function(d){return(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:d.spacer+d.title}})}}}),(0,e.jsx)(n.Z.Group,{name:"save_type",label:this.props.intl.formatMessage({id:"plugin.aigenerate.save-type"}),options:[{label:this.props.intl.formatMessage({id:"plugin.aigenerate.save-type.draft"}),value:0},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.save-type.release"}),value:1}]}),(0,e.jsxs)(ne.A.Group,{children:[(0,e.jsx)(Y.Z,{name:"start_hour",label:this.props.intl.formatMessage({id:"plugin.aigenerate.start-time"}),placeholder:"",extra:this.props.intl.formatMessage({id:"plugin.aigenerate.start-time.description"})}),(0,e.jsx)(Y.Z,{name:"end_hour",label:this.props.intl.formatMessage({id:"plugin.aigenerate.end-time"}),placeholder:"",extra:this.props.intl.formatMessage({id:"plugin.aigenerate.end-time.description"})}),(0,e.jsx)(Y.Z,{name:"daily_limit",label:this.props.intl.formatMessage({id:"plugin.aigenerate.daily-limit"}),placeholder:"",extra:this.props.intl.formatMessage({id:"plugin.aigenerate.daily-limit.description"})})]}),(0,e.jsx)(n.Z.Group,{name:"insert_image",label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image"}),options:[{label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image.default"}),value:0},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image.diy"}),value:2},{label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image.category"}),value:3}],fieldProps:{onChange:function(d){r.onChangeInsertImage(d)}}}),ee===2&&(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.insert-image.list"}),children:(0,e.jsx)("div",{className:"insert-image",children:(0,e.jsxs)(oe.Z,{gutter:[16,16],className:"image-list",children:[(f=b.images)===null||f===void 0?void 0:f.map(function(c,d){return(0,e.jsx)(_.Z,{span:4,children:(0,e.jsx)("div",{className:"image-item",children:(0,e.jsx)("div",{className:"inner",children:(0,e.jsxs)("div",{className:"link",children:[(0,e.jsx)(ge.Z,{className:"img",preview:!0,src:c}),(0,e.jsx)("span",{className:"close",onClick:r.handleRemove.bind(r,"images",d),children:(0,e.jsx)(i.FormattedMessage,{id:"setting.system.delete"})})]})})})},d)}),(0,e.jsx)(_.Z,{span:4,children:(0,e.jsx)("div",{className:"image-item",children:(0,e.jsx)("div",{className:"inner",children:(0,e.jsx)("div",{className:"link",children:(0,e.jsx)(fe.Z,{onSelect:this.handleSelectLogo,open:!1,multiple:!0,children:(0,e.jsx)("div",{className:"ant-upload-item",children:(0,e.jsxs)("div",{className:"add",children:[(0,e.jsx)(m.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:(0,e.jsx)(i.FormattedMessage,{id:"setting.system.upload"})})]})})})})})})})]})})}),ee===3&&(0,e.jsx)(E.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.image.category"}),name:"image_category_id",required:!0,extra:this.props.intl.formatMessage({id:"plugin.aigenerate.image.category.description"}),request:O()(C()().mark(function c(){var d,N;return C()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,T.Nre)();case 2:return d=Z.sent,N=(d.data||[]).concat({id:0,title:r.props.intl.formatMessage({id:"plugin.aigenerate.image.category.default"})},{id:-1,title:r.props.intl.formatMessage({id:"plugin.aigenerate.image.category.all"})},{id:-2,title:r.props.intl.formatMessage({id:"plugin.aigenerate.image.category.match"})}),Z.abrupt("return",N);case 5:case"end":return Z.stop()}},c)})),fieldProps:{fieldNames:{label:"title",value:"id"}}}),(0,e.jsx)(y.Z,{label:this.props.intl.formatMessage({id:"plugin.aigenerate.replace"}),extra:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"text-muted",children:[(0,e.jsx)("p",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.tips1"})}),(0,e.jsx)("p",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.tips2"})}),(0,e.jsx)("p",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.tips3"})}),(0,e.jsxs)("p",{children:[(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rules"}),(0,e.jsx)(B.Z,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rule.email"})}),"\u3001",(0,e.jsx)(B.Z,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rule.date"})}),"\u3001",(0,e.jsx)(B.Z,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rule.time"})}),"\u3001",(0,e.jsx)(B.Z,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rule.cellphone"})}),"\u3001",(0,e.jsx)(B.Z,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rule.qq"})}),"\u3001",(0,e.jsx)(B.Z,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rule.wechat"})}),"\u3001",(0,e.jsx)(B.Z,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.rule.website"})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-red",children:"*"})," ",(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.notice"})]})]}),(0,e.jsx)("div",{className:"tag-lists",children:(0,e.jsx)(z.Z,{size:[12,12],wrap:!0,children:(o=b.content_replace)===null||o===void 0?void 0:o.map(function(c,d){return(0,e.jsxs)("span",{className:"edit-tag",children:[(0,e.jsx)("span",{className:"key",children:c.from}),(0,e.jsx)("span",{className:"divide",children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.to"})}),(0,e.jsx)("span",{className:"value",children:c.to||r.props.intl.formatMessage({id:"plugin.aigenerate.empty"})}),(0,e.jsx)("span",{className:"close",onClick:r.handleRemove.bind(r,"content_replace",d),children:"\xD7"})]},d)})})})]}),children:(0,e.jsxs)(L.Z.Group,{compact:!0,children:[(0,e.jsx)(L.Z,{style:{width:"40%"},value:P.from||"",onChange:this.handleChangeTmpInput.bind(this,"from"),onPressEnter:this.handleAddField.bind(this,"content_replace")}),(0,e.jsx)("span",{className:"input-divide",children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.replace.to"})}),(0,e.jsx)(L.Z,{style:{width:"50%"},value:P.to||"",onChange:this.handleChangeTmpInput.bind(this,"to"),onPressEnter:this.handleAddField.bind(this,"content_replace"),suffix:(0,e.jsx)("a",{onClick:this.handleAddField.bind(this,"content_replace"),children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.enter-to-add"})})})]})})]})]})}}]),h}(x.Component),ue=(0,i.injectIntl)(J),ce=function(){var de=(0,x.useRef)(),h=(0,i.useIntl)(),l=function(){se.Z.confirm({title:h.formatMessage({id:"plugin.aigenerate.start.confirm"}),content:h.formatMessage({id:"plugin.aigenerate.start.description"}),onOk:function(){var f=O()(C()().mark(function v(){var s;return C()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:s=p.ZP.loading(h.formatMessage({id:"setting.system.submitting"}),0),(0,T.BEi)().then(function(P){p.ZP.success(P.msg)}).finally(function(){s()});case 2:case"end":return b.stop()}},v)}));function o(){return f.apply(this,arguments)}return o}()})},r=[{title:"ID",dataIndex:"id",hideInSearch:!0},{title:h.formatMessage({id:"plugin.aigenerate.type"}),dataIndex:"type",valueEnum:{0:{text:h.formatMessage({id:"plugin.aigenerate.type.undefine"})},1:{text:h.formatMessage({id:"plugin.aigenerate.type.generate"})},2:{text:h.formatMessage({id:"plugin.aigenerate.type.translate"})},3:{text:h.formatMessage({id:"plugin.aigenerate.type.pseudo"})},4:{text:h.formatMessage({id:"plugin.aigenerate.type.media"})}}},{title:h.formatMessage({id:"content.keywords.name"}),dataIndex:"keyword"},{title:h.formatMessage({id:"content.title.name"}),dataIndex:"title",hideInSearch:!0},{title:h.formatMessage({id:"plugin.aigenerate.status"}),dataIndex:"status",hideInSearch:!0,valueEnum:{0:{text:h.formatMessage({id:"plugin.aigenerate.waiting"}),status:"Default"},1:{text:h.formatMessage({id:"plugin.aigenerate.doing"}),status:"Default"},2:{text:h.formatMessage({id:"plugin.aigenerate.finish"}),status:"Success"},4:{text:h.formatMessage({id:"plugin.aigenerate.error"}),status:"Default"}}},{title:h.formatMessage({id:"plugin.aigenerate.time"}),hideInSearch:!0,dataIndex:"created_time",render:function(f){return"".concat(f)==="0"?!1:S()(f*1e3).format("YYYY-MM-DD HH:mm")}}];return(0,e.jsx)(X._z,{children:(0,e.jsxs)(ae.Z,{children:[(0,e.jsx)("div",{className:"control",children:(0,e.jsxs)(z.Z,{className:"space-wrap",size:20,style:{width:"100%"},children:[(0,e.jsx)(ue,{onCancel:function(){},children:(0,e.jsx)(G.ZP,{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.setting"})})},"setting"),(0,e.jsx)(G.ZP,{onClick:function(){l()},children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.start"})},"keywords"),(0,e.jsx)(G.ZP,{onClick:function(){i.history.push("/plugin/keyword")},children:(0,e.jsx)(i.FormattedMessage,{id:"menu.plugin.keyword"})},"keywords")]})}),(0,e.jsx)("div",{children:(0,e.jsx)($.Z,{actionRef:de,rowKey:"id",request:function(f){return(0,T.iiI)(f)},columnsState:{persistenceKey:"ai-article-table",persistenceType:"localStorage"},form:{initialValues:{keyword:new URLSearchParams(window.location.search).get("keyword")||""}},columns:r,pagination:{showSizeChanger:!0}})}),(0,e.jsxs)("div",{className:"mt-normal",children:[(0,e.jsx)("p",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.tips1"})}),(0,e.jsx)("p",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.tips2"})}),(0,e.jsx)("p",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.tips3"})}),(0,e.jsx)("p",{children:(0,e.jsx)(i.FormattedMessage,{id:"plugin.aigenerate.tips4"})})]})]})})},ve=ce},21261:function(he,w,a){a.d(w,{Z:function(){return fe}});var u=a(75271),C=a(82187),U=a.n(C),O=a(18051),T=a(4685),X=a(76708),$=a(44675),i=a(23351),se=a(24434),p=a(15236),ae=a(84432),z=a(58363),G=a(83509),W=a(71130);const S=t=>{const{paddingXXS:m,lineWidth:j,tagPaddingHorizontal:n,componentCls:g,calc:y}=t,E=y(n).sub(j).equal(),ne=y(m).sub(j).equal();return{[g]:Object.assign(Object.assign({},(0,z.Wf)(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:E,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${(0,p.bf)(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${g}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${g}-close-icon`]:{marginInlineStart:ne,fontSize:t.tagIconSize,color:t.colorTextDescription,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${g}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${g}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:E}}),[`${g}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},x=t=>{const{lineWidth:m,fontSizeIcon:j,calc:n}=t,g=t.fontSizeSM;return(0,G.IX)(t,{tagFontSize:g,tagLineHeight:(0,p.bf)(n(t.lineHeightSM).mul(g).equal()),tagIconSize:n(j).sub(n(m).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},Q=t=>({defaultBg:new ae.t(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText});var V=(0,W.I$)("Tag",t=>{const m=x(t);return S(m)},Q),H=function(t,m){var j={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&m.indexOf(n)<0&&(j[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,n=Object.getOwnPropertySymbols(t);g<n.length;g++)m.indexOf(n[g])<0&&Object.prototype.propertyIsEnumerable.call(t,n[g])&&(j[n[g]]=t[n[g]]);return j},te=u.forwardRef((t,m)=>{const{prefixCls:j,style:n,className:g,checked:y,onChange:E,onClick:ne}=t,Y=H(t,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:B,tag:L}=u.useContext(se.E_),oe=ce=>{E==null||E(!y),ne==null||ne(ce)},_=B("tag",j),[ge,e,J]=V(_),ue=U()(_,`${_}-checkable`,{[`${_}-checkable-checked`]:y},L==null?void 0:L.className,g,e,J);return ge(u.createElement("span",Object.assign({},Y,{ref:m,style:Object.assign(Object.assign({},n),L==null?void 0:L.style),className:ue,onClick:oe})))}),R=a(99840);const A=t=>(0,R.Z)(t,(m,j)=>{let{textColor:n,lightBorderColor:g,lightColor:y,darkColor:E}=j;return{[`${t.componentCls}${t.componentCls}-${m}`]:{color:n,background:y,borderColor:g,"&-inverse":{color:t.colorTextLightSolid,background:E,borderColor:E},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}});var M=(0,W.bk)(["Tag","preset"],t=>{const m=x(t);return A(m)},Q);function re(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const q=(t,m,j)=>{const n=re(j);return{[`${t.componentCls}${t.componentCls}-${m}`]:{color:t[`color${j}`],background:t[`color${n}Bg`],borderColor:t[`color${n}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}};var le=(0,W.bk)(["Tag","status"],t=>{const m=x(t);return[q(m,"success","Success"),q(m,"processing","Info"),q(m,"error","Error"),q(m,"warning","Warning")]},Q),pe=function(t,m){var j={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&m.indexOf(n)<0&&(j[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,n=Object.getOwnPropertySymbols(t);g<n.length;g++)m.indexOf(n[g])<0&&Object.prototype.propertyIsEnumerable.call(t,n[g])&&(j[n[g]]=t[n[g]]);return j};const k=u.forwardRef((t,m)=>{const{prefixCls:j,className:n,rootClassName:g,style:y,children:E,icon:ne,color:Y,onClose:B,bordered:L=!0,visible:oe}=t,_=pe(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:ge,direction:e,tag:J}=u.useContext(se.E_),[ue,ce]=u.useState(!0),ve=(0,O.Z)(_,["closeIcon","closable"]);u.useEffect(()=>{oe!==void 0&&ce(oe)},[oe]);const me=(0,T.o2)(Y),de=(0,T.yT)(Y),h=me||de,l=Object.assign(Object.assign({backgroundColor:Y&&!h?Y:void 0},J==null?void 0:J.style),y),r=ge("tag",j),[D,f,o]=V(r),v=U()(r,J==null?void 0:J.className,{[`${r}-${Y}`]:h,[`${r}-has-color`]:Y&&!h,[`${r}-hidden`]:!ue,[`${r}-rtl`]:e==="rtl",[`${r}-borderless`]:!L},n,g,f,o),s=c=>{c.stopPropagation(),B==null||B(c),!c.defaultPrevented&&ce(!1)},[,F]=(0,X.Z)((0,X.w)(t),(0,X.w)(J),{closable:!1,closeIconRender:c=>{const d=u.createElement("span",{className:`${r}-close-icon`,onClick:s},c);return(0,$.wm)(c,d,N=>({onClick:K=>{var Z;(Z=N==null?void 0:N.onClick)===null||Z===void 0||Z.call(N,K),s(K)},className:U()(N==null?void 0:N.className,`${r}-close-icon`)}))}}),b=typeof _.onClick=="function"||E&&E.type==="a",P=ne||null,ee=P?u.createElement(u.Fragment,null,P,E&&u.createElement("span",null,E)):E,I=u.createElement("span",Object.assign({},ve,{ref:m,className:v,style:l}),ee,F,me&&u.createElement(M,{key:"preset",prefixCls:r}),de&&u.createElement(le,{key:"status",prefixCls:r}));return D(b?u.createElement(i.Z,{component:"Tag"},I):I)});k.CheckableTag=te;var fe=k}}]);
