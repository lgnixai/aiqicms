"use strict";(self.webpackChunkAnQiCMS=self.webpackChunkAnQiCMS||[]).push([[7217],{88086:function(se,P,n){n.r(P);var T=n(90228),r=n.n(T),A=n(87999),c=n.n(A),U=n(48305),m=n.n(U),p=n(75304),L=n(96570),K=n(74133),y=n(76334),u=n(96640),B=n(18640),f=n(32064),O=n(34206),g=n(91827),S=n(18874),W=n(47634),Z=n(54203),N=n(59124),D=n(48806),z=n(16483),F=n.n(z),d=n(75271),e=n(52676),Y=function(){var G=(0,d.useRef)(),V=(0,d.useState)({}),j=m()(V,2),x=j[0],$=j[1],H=(0,d.useState)(!1),b=m()(H,2),Q=b[0],J=b[1],X=(0,d.useState)(""),C=m()(X,2),E=C[0],R=C[1],w=(0,d.useState)(!1),I=m()(w,2),k=I[0],M=I[1],a=(0,f.useIntl)(),q=function(){var s=c()(r()().mark(function t(){var l,i;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,p.s58)();case 2:l=o.sent,i=l.data||{},$(i),R(i.engine||""),J(!0);case 7:case"end":return o.stop()}},t)}));return function(){return s.apply(this,arguments)}}();(0,d.useEffect)(function(){q()},[]);var ee=function(){var s=c()(r()().mark(function t(l){var i,_;return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:i=Object.assign(x,l),_=O.ZP.loading(a.formatMessage({id:"setting.system.submitting"}),0),(0,p.T14)(i).then(function(v){O.ZP.success(v.msg)}).catch(function(v){console.log(v)}).finally(function(){_()});case 3:case"end":return h.stop()}},t)}));return function(l){return s.apply(this,arguments)}}(),ne=function(t){R(t.target.value)},ae=function(){M(!0)},te=[{title:"ID",dataIndex:"id",hideInSearch:!0},{title:a.formatMessage({id:"plugin.aigenerate.time"}),width:160,dataIndex:"created_time",render:function(t,l){return F()(l.created_time*1e3).format("YYYY-MM-DD HH:mm")}},{title:a.formatMessage({id:"plugin.translate.lang"}),width:160,dataIndex:"from",render:function(t,l){return(0,e.jsxs)("span",{children:[l.from," -> ",l.to]})}},{title:a.formatMessage({id:"content.translate.origin-content"}),width:160,dataIndex:"origin_title"},{title:a.formatMessage({id:"plugin.translate.result"}),dataIndex:"title"}];return(0,e.jsxs)(L._z,{children:[(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(S.Z,{message:(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:(0,e.jsx)(f.FormattedMessage,{id:"plugin.translate.tips"})}),(0,e.jsx)(W.ZP,{size:"small",onClick:ae,children:(0,e.jsx)(f.FormattedMessage,{id:"plugin.translate.view-log"})})]})}),(0,e.jsx)("div",{className:"mt-normal",children:Q&&(0,e.jsxs)(K.A,{onFinish:ee,initialValues:x,children:[(0,e.jsx)(y.Z.Group,{name:"engine",label:a.formatMessage({id:"plugin.translate.engine"}),fieldProps:{onChange:ne},options:[{label:a.formatMessage({id:"plugin.translate.engine.anqicms"}),value:""},{label:a.formatMessage({id:"plugin.translate.engine.baidu"}),value:"baidu"},{label:a.formatMessage({id:"plugin.translate.engine.youdao"}),value:"youdao"},{label:a.formatMessage({id:"plugin.translate.engine.deepl"}),value:"deepl"}]}),E==="baidu"&&(0,e.jsxs)(g.Z,{size:"small",title:a.formatMessage({id:"plugin.translate.engine.baidu"}),bordered:!1,children:[(0,e.jsx)(u.Z,{name:"baidu_app_id",label:a.formatMessage({id:"plugin.translate.engine.baidu.app-id"})}),(0,e.jsx)(u.Z,{name:"baidu_app_secret",label:a.formatMessage({id:"plugin.translate.engine.baidu.app-secret"})})]}),E==="youdao"&&(0,e.jsxs)(g.Z,{size:"small",title:a.formatMessage({id:"plugin.translate.engine.youdao"}),bordered:!1,children:[(0,e.jsx)(u.Z,{name:"youdao_app_key",label:a.formatMessage({id:"plugin.translate.engine.youdao.app-id"})}),(0,e.jsx)(u.Z,{name:"youdao_app_secret",label:a.formatMessage({id:"plugin.translate.engine.youdao.app-secret"})})]}),E==="deepl"&&(0,e.jsx)(g.Z,{size:"small",title:a.formatMessage({id:"plugin.translate.engine.deepl"}),bordered:!1,children:(0,e.jsx)(u.Z,{name:"deepl_auth_key",label:a.formatMessage({id:"plugin.translate.engine.deepl.auth-key"})})})]})})]}),(0,e.jsx)(Z.Z,{title:a.formatMessage({id:"plugin.translate.logs"}),width:900,open:k,onCancel:function(){M(!1)},onOk:function(){M(!1)},children:(0,e.jsx)(B.Z,{actionRef:G,rowKey:"name",search:!1,tableAlertOptionRender:!1,request:function(){var s=c()(r()().mark(function t(l){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.x1u)(l));case 1:case"end":return _.stop()}},t)}));return function(t){return s.apply(this,arguments)}}(),columnsState:{persistenceKey:"translate-log-table",persistenceType:"localStorage"},columns:te,pagination:!1,expandable:{expandedRowRender:function(t){return(0,e.jsxs)(N.Z,{gutter:16,children:[(0,e.jsx)(D.Z,{span:12,children:(0,e.jsxs)("div",{className:"mt-normal",children:[(0,e.jsx)("div",{className:"font-bold",children:a.formatMessage({id:"plugin.translate.origin-content"})}),(0,e.jsx)("div",{className:"mt-normal",children:t.origin_content})]})}),(0,e.jsx)(D.Z,{span:12,children:(0,e.jsxs)("div",{className:"mt-normal",children:[(0,e.jsx)("div",{className:"font-bold",children:a.formatMessage({id:"plugin.translate.result"})}),(0,e.jsx)("div",{className:"mt-normal",children:t.content})]})})]})},rowExpandable:function(t){return t.origin_content!==""}}})})]})};P.default=Y}}]);
